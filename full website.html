<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Crystal Preschool</title>
    <meta name="description" content="CRYSTAL PRE-SCHOOL chatbot with AI assistance, tour booking, and real-time support">
    <meta name="theme-color" content="#667eea">
    
    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="CRYSTAL PRE-SCHOOL AI Assistant">
    <meta property="og:description" content="Intelligent chatbot for preschool admissions, tours, and information">
    <meta property="og:url" content="https://crystalpreschool.org">
    
    <!-- Progressive Web App -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&family=Fredoka+One&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <!-- Meta for Mobile Browsers -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-touch-fullscreen" content="yes">
    
    <style>
        /* EXISTING STYLES FROM FIRST CODE */
        body {
            font-family: Arial, sans-serif;
            background-image: url('image.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            background-attachment: fixed;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Fixed header bar */
        .fixed-header {
            width: 100%;
            background: white;
            padding: 6px 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            box-sizing: border-box;
            flex-wrap: wrap;
        }

        /* Left-side logo */
        .logo {
            width: 90px;
            height: auto;
        }

        /* Navigation Menu */
        .nav-menu ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: #333;
            font-weight: bold;
            padding: 8px 12px;
            display: block;
            transition: background-color 0.3s;
            cursor: pointer;
        }

        .nav-menu a:hover {
            background-color: rgba(255, 204, 51, 0.3);
            border-radius: 5px;
        }

        /* Main header with yellow background - HOME PAGE */
        .main-header {
            background: #ffcc33;
            padding: 20px;
            text-align: center;
            margin-top: 80px;
        }

        .main-header h1 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 2.5em;
        }

        .main-header p {
            margin: 0;
            color: #333;
            font-size: 1.2em;
        }

        /* Page content spacing */
        .content {
            padding: 40px 20px;
            text-align: center;
            max-width: 1200px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            margin-top: 20px;
            flex: 1;
        }

        /* Mobile Menu Toggle */
        .mobile-menu {
            display: none;
            text-align: center;
            margin-top: 10px;
            width: 100%;
        }

        .mobile-menu a {
            text-decoration: none;
            color: #333;
            display: block;
            padding: 10px;
            border-bottom: 1px solid rgba(255, 170, 51, 0.3);
            cursor: pointer;
        }

        .mobile-menu .register-btn {
            margin-top: 5px;
            border-bottom: none;
        }

        /* Mobile Menu Button */
        .mobile-toggle {
            display: none;
            background: #ff6600;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        /* GALLERY SECTION (Includes Founder, Photos, and Videos) */
        #gallery {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            margin-top: 40px;
            border-radius: 15px;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 40px auto 0;
            display: none;
        }

        #gallery h2 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5rem;
            margin: 0 0 40px 0;
            position: relative;
            padding-bottom: 15px;
        }

        #gallery h2:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, #ff9933, #ffcc66);
            border-radius: 2px;
        }

        /* Founder Subsection */
        .founder-subsection {
            margin-bottom: 60px;
        }

        .founder-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .founder-image {
            cursor: pointer;
            width: 80%;
            max-width: 400px;
            height: 350px;
            overflow: hidden;
            border-radius: 8px;
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .founder-image:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .founder-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .founder-hover {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px;
            font-size: 12px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .founder-image:hover .founder-hover {
            opacity: 1;
        }

        .founder-info {
            text-align: center;
            max-width: 800px;
        }

        .founder-info h3 {
            color: #ff9933;
            margin-bottom: 10px;
            font-size: 1.8rem;
        }

        /* Photos Subsection */
        .photos-subsection {
            margin-bottom: 60px;
        }

        .photos-subsection h3 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
            position: relative;
            padding-bottom: 10px;
        }

        .photos-subsection h3:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: #ff9933;
            border-radius: 2px;
        }

        .gallery-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 40px;
        }

        .gallery-item {
            cursor: pointer;
            width: 31%;
            height: 180px;
            overflow: hidden;
            border-radius: 8px;
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .gallery-item:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-hover {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px;
            font-size: 12px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .gallery-item:hover .gallery-hover {
            opacity: 1;
        }

        /* Video Gallery Subsection */
        .videos-subsection h3 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
            position: relative;
            padding-bottom: 10px;
        }

        .videos-subsection h3:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: #ff9933;
            border-radius: 2px;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .video-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .video-container:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .video-container:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #ff9933, #ffcc66);
        }

        video {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            display: block;
            object-fit: cover;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .video-container:hover video {
            transform: scale(1.02);
        }

        .play-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(255, 153, 51, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .video-container:hover .play-icon {
            opacity: 1;
        }

        .play-icon:before {
            content: '';
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 12px 0 12px 20px;
            border-color: transparent transparent transparent white;
            margin-left: 5px;
        }

        /* CONTACT SECTION STYLES */
        #contact {
            padding: 40px 20px;
            max-width: 1200px;
            margin: auto;
            background: linear-gradient(135deg, #fffbe6 0%, #f5f0ff 100%);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin-top: 40px;
            display: none;
        }

        #contact .contact-title {
            text-align: center;
            margin-bottom: 40px;
        }

        #contact .contact-title h2 {
            color: #5a3d8a;
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            display: inline-block;
        }

        #contact .contact-title h2 span {
            display: block;
            width: 80px;
            height: 4px;
            background: #ff9933;
            margin: 10px auto;
            border-radius: 2px;
        }

        #contact .contact-title p {
            color: #666;
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
        }

        #formStatus {
            display: none;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }

        .contact-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }

        .contact-info {
            flex: 1;
            min-width: 300px;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .contact-info h3 {
            color: #5a3d8a;
            margin-bottom: 25px;
            font-size: 1.8rem;
        }

        .contact-detail {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .contact-icon {
            background: #f0e6ff;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .contact-icon svg {
            width: 24px;
            height: 24px;
            color: #5a3d8a;
        }

        .contact-form-container {
            flex: 1;
            min-width: 300px;
            position: relative;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .form-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('IMG-20251120-WA0024.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 1;
        }

        .form-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(90, 61, 138, 0.85);
            z-index: 2;
        }

        .form-content {
            position: relative;
            z-index: 3;
            padding: 30px;
        }

        .form-content h3 {
            color: white;
            margin-bottom: 25px;
            font-size: 1.8rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        #contactForm {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .form-group {
            flex: 1;
            min-width: 200px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #f0e6ff;
            font-weight: 500;
        }

        .form-input {
            padding: 14px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            width: 100%;
            box-sizing: border-box;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
        }

        select.form-input {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%235a3d8a'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 20px;
            padding-right: 40px;
        }

        .age-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .age-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            color: white;
        }

        .age-label input {
            margin-right: 8px;
        }

        textarea.form-input {
            resize: vertical;
            font-family: inherit;
            min-height: 120px;
        }

        .newsletter-check {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .newsletter-check label {
            color: white;
            cursor: pointer;
            margin-left: 10px;
        }

        .submit-btn {
            padding: 16px;
            background: linear-gradient(to right, #ff9933, #ffad5c);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 12px rgba(255, 153, 51, 0.3);
        }

        .submit-btn svg {
            width: 20px;
            height: 20px;
        }

        .form-footer {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            text-align: center;
            margin-top: 10px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        /* Form interactive styles */
        #contact input:focus,
        #contact textarea:focus,
        #contact select:focus {
            outline: none;
            border-color: #ff9933 !important;
            box-shadow: 0 0 0 3px rgba(255, 153, 51, 0.3) !important;
            background: rgba(255, 255, 255, 0.95) !important;
        }

        #contact button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 153, 51, 0.4) !important;
        }

        .status-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status-loading {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        /* Lightbox Modal */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }

        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            color: white;
            font-size: 30px;
            cursor: pointer;
            z-index: 1001;
        }

        .lightbox-img {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 5px;
        }

        .lightbox-caption {
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 18px;
        }

        .lightbox-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .lightbox-btn {
            padding: 10px 20px;
            background: #ff9933;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .lightbox-btn-close {
            background: #666;
        }

        /* ABOUT US SECTION STYLES */
        #about {
            padding: 80px 20px;
            max-width: 1400px;
            margin: 40px auto;
            position: relative;
            overflow: hidden;
            font-family: 'Segoe UI', 'Poppins', Tahoma, Geneva, Verdana, sans-serif;
            border-radius: 20px;
            width: 100%;
            background: #f8fcfd;
            display: none;
        }

        /* Animation Definitions */
        @keyframes waterWave {
            0% { transform: translateX(0) translateY(0) rotate(0deg); }
            50% { transform: translateX(-25%) translateY(-10px) rotate(5deg); }
            100% { transform: translateX(-50%) translateY(0) rotate(0deg); }
        }
        
        @keyframes floatBubble {
            0% { transform: translateY(0) translateX(0); opacity: 0.5; }
            25% { transform: translateY(-20px) translateX(10px); opacity: 0.8; }
            50% { transform: translateY(-40px) translateX(-10px); opacity: 0.5; }
            75% { transform: translateY(-20px) translateX(10px); opacity: 0.8; }
            100% { transform: translateY(0) translateX(0); opacity: 0.5; }
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(200%); }
        }
        
        @keyframes fadeInDown {
            0% { opacity: 0; transform: translateY(-30px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        @keyframes slideInLeft {
            0% { opacity: 0; transform: translateX(-30px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes slideInRight {
            0% { opacity: 0; transform: translateX(30px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes slideInUp {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 10px 20px rgba(26, 95, 122, 0.2); }
            50% { transform: scale(1.05); box-shadow: 0 15px 30px rgba(26, 95, 122, 0.3); }
            100% { transform: scale(1); box-shadow: 0 10px 20px rgba(26, 95, 122, 0.2); }
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }

        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* SOCIAL MEDIA SECTION STYLES */
        #social {
            background: #0d0f13;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 80px 20px;
            margin-top: 40px;
            display: none;
        }

        .social-container {
            max-width: 1200px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .social-title {
            text-align: center;
            margin-bottom: 10px;
            font-size: 42px;
            color: white;
            letter-spacing: 1.5px;
            background: linear-gradient(90deg, #ffffff, #a0c8ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 15px rgba(160, 200, 255, 0.3);
        }

        .subtitle {
            text-align: center;
            color: #b0b7c5;
            font-size: 18px;
            margin-bottom: 50px;
            max-width: 600px;
            line-height: 1.5;
        }

        .social-icons-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 30px 0 60px;
            flex-wrap: wrap;
        }

        .social-btn {
            width: 110px;
            height: 110px;
            background: #15191f;
            border-radius: 28px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            z-index: 1;
            animation: fadeInUp 0.6s ease forwards;
            opacity: 0;
        }

        .social-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s;
        }

        .social-btn i {
            font-size: 52px;
            transition: all 0.4s ease;
            z-index: 2;
        }

        .platform-name {
            color: white;
            font-size: 14px;
            margin-top: 10px;
            font-weight: 600;
            opacity: 0.8;
            transition: all 0.3s ease;
            z-index: 2;
        }

        /* Hover Effects */
        .social-btn:hover {
            transform: translateY(-15px) scale(1.08);
        }

        .social-btn:hover::before {
            opacity: 1;
        }

        /* Facebook */
        .facebook-bg {
            background: linear-gradient(145deg, #15191f, #1a1f27);
        }
        .facebook-color {
            color: #1877f2;
        }
        .social-btn.facebook:hover {
            box-shadow: 
                0 15px 30px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(24, 119, 242, 0.4);
        }
        .social-btn.facebook:hover i {
            color: #5dadec;
            text-shadow: 0 0 20px #1877f2, 0 0 40px #1877f2;
            transform: scale(1.15);
        }
        .social-btn.facebook:hover .platform-name {
            color: #5dadec;
            opacity: 1;
            transform: translateY(5px);
        }

        /* TikTok */
        .tiktok-bg {
            background: linear-gradient(145deg, #15191f, #1a1f27);
        }
        .tiktok-color {
            color: #ffffff;
            text-shadow: 0 0 5px #ff0050, 0 0 5px #00f2ea;
        }
        .social-btn.tiktok:hover {
            box-shadow: 
                0 15px 30px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(255, 0, 80, 0.4),
                0 0 40px rgba(0, 242, 234, 0.3);
        }
        .social-btn.tiktok:hover i {
            color: #ffffff;
            text-shadow: 
                0 0 20px #ff0050,
                0 0 30px #00f2ea,
                0 0 40px #ff0050;
            transform: scale(1.15);
        }
        .social-btn.tiktok:hover .platform-name {
            color: #ffffff;
            opacity: 1;
            transform: translateY(5px);
            text-shadow: 0 0 5px #ff0050, 0 0 5px #00f2ea;
        }

        /* WhatsApp */
        .whatsapp-bg {
            background: linear-gradient(145deg, #15191f, #1a1f27);
        }
        .whatsapp-color {
            color: #25D366;
        }
        .social-btn.whatsapp:hover {
            box-shadow: 
                0 15px 30px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(37, 211, 102, 0.4);
        }
        .social-btn.whatsapp:hover i {
            color: #6eff9e;
            text-shadow: 0 0 20px #25D366, 0 0 40px #25D366;
            transform: scale(1.15);
        }
        .social-btn.whatsapp:hover .platform-name {
            color: #6eff9e;
            opacity: 1;
            transform: translateY(5px);
        }

        .instruction {
            color: #6a7487;
            font-style: italic;
            margin-top: 20px;
            font-size: 15px;
            text-align: center;
            animation: pulse 2s infinite;
        }

        /* FOOTER SECTION */
        .main-footer {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            padding: 60px 20px 30px;
            margin-top: 80px;
            width: 100%;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            padding-bottom: 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-column h3 {
            color: #ff9933;
            font-size: 1.5rem;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, #ff9933, #ffcc66);
            border-radius: 2px;
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: #b0b7c5;
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-links a:hover {
            color: #ff9933;
            transform: translateX(5px);
        }

        .footer-links i {
            font-size: 14px;
            width: 20px;
        }

        .footer-contact p {
            color: #b0b7c5;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-contact i {
            color: #ff9933;
            width: 20px;
        }

        .footer-about p {
            color: #b0b7c5;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .footer-social {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .footer-social a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-social a:hover {
            background: #ff9933;
            transform: translateY(-5px);
        }

        .footer-bottom {
            max-width: 1200px;
            margin: 30px auto 0;
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            color: #8a8f9c;
            font-size: 0.9rem;
        }

        .footer-bottom p {
            margin: 10px 0;
        }

        .copyright {
            font-size: 1rem;
            color: #ff9933;
            font-weight: 600;
        }

        .footer-credits {
            color: #6a7487;
            font-size: 0.85rem;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #ff9933;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(255, 153, 51, 0.3);
            transition: all 0.3s ease;
            z-index: 999;
            opacity: 0;
            visibility: hidden;
        }

        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: #ff6600;
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(255, 153, 51, 0.4);
        }

        /* BRANCHES SECTION STYLES - INTEGRATED FROM SECOND CODE */
        #branches {
            padding: 80px 20px;
            max-width: 1400px;
            margin: 40px auto;
            position: relative;
            overflow: hidden;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            border-radius: 20px;
            width: 100%;
            display: none;
        }

        #branches::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none"/><path d="M0,50 Q25,25 50,50 T100,50" stroke="rgba(255,255,255,0.03)" fill="none" stroke-width="2"/><path d="M0,30 Q25,5 50,30 T100,30" stroke="rgba(255,255,255,0.03)" fill="none" stroke-width="2"/><path d="M0,70 Q25,45 50,70 T100,70" stroke="rgba(255,255,255,0.03)" fill="none" stroke-width="2"/></svg>');
            z-index: 0;
        }

        .branches-container {
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
        }

        .branches-header {
            text-align: center;
            margin-bottom: 50px;
            padding: 30px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .branches-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #ff7e5f, #feb47b, #86a8e7, #91eae4);
            background-size: 400% 100%;
            animation: gradientFlow 10s ease infinite;
        }

        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .branches-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            gap: 15px;
        }

        .branches-logo-icon {
            font-size: 2.8rem;
            color: #ff7e5f;
            background: rgba(255, 255, 255, 0.2);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .branches-header h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.8rem;
            font-weight: 700;
            background: linear-gradient(to right, #ff7e5f, #feb47b, #86a8e7);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            letter-spacing: 0.5px;
            margin-bottom: 15px;
        }

        .branches-header p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.85);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .branches-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 35px;
            margin-bottom: 40px;
        }

        @media (max-width: 768px) {
            .branches-cards-container {
                grid-template-columns: 1fr;
            }
        }

        .branch-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            padding: 35px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .branch-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25);
        }

        .branch-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, #ff7e5f, #feb47b);
        }

        .branch-card-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 126, 95, 0.2);
        }

        .branch-card-icon {
            font-size: 2.2rem;
            color: #ff7e5f;
            background: rgba(255, 126, 95, 0.1);
            width: 65px;
            height: 65px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            box-shadow: 0 5px 15px rgba(255, 126, 95, 0.2);
        }

        .branch-card-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.9rem;
            font-weight: 700;
            color: #2a5298;
            line-height: 1.3;
        }

        .branch-card-address {
            margin-bottom: 30px;
        }

        .branch-address-line {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px dashed rgba(0, 0, 0, 0.08);
        }

        .branch-address-line:last-child {
            border-bottom: none;
        }

        .branch-address-icon {
            color: #ff7e5f;
            font-size: 1.2rem;
            margin-right: 15px;
            min-width: 25px;
            text-align: center;
        }

        .branch-address-text {
            color: #444;
            font-size: 1.1rem;
            line-height: 1.5;
        }

        .branch-address-text strong {
            color: #2a5298;
            font-weight: 600;
        }

        .branch-action-buttons {
            display: flex;
            gap: 20px;
            margin-top: 35px;
        }

        .branch-btn {
            padding: 16px 28px;
            border: none;
            border-radius: 14px;
            font-family: 'Poppins', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex: 1;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
        }

        .branch-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        .branch-btn:hover::before {
            left: 100%;
        }

        .branch-btn-primary {
            background: linear-gradient(135deg, #ff7e5f 0%, #feb47b 100%);
            color: white;
        }

        .branch-btn-primary:hover {
            background: linear-gradient(135deg, #ff6b4a 0%, #fea866 100%);
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(255, 126, 95, 0.4);
        }

        .branch-btn-secondary {
            background: linear-gradient(135deg, #86a8e7 0%, #91eae4 100%);
            color: white;
        }

        .branch-btn-secondary:hover {
            background: linear-gradient(135deg, #6d96e0 0%, #7ce4dd 100%);
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(134, 168, 231, 0.4);
        }

        .branch-btn-icon {
            font-size: 1.4rem;
        }

        .branches-map-preview {
            height: 200px;
            background: linear-gradient(rgba(42, 82, 152, 0.7), rgba(42, 82, 152, 0.9)), url('https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80');
            background-size: cover;
            background-position: center;
            border-radius: 16px;
            margin-top: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .branches-map-preview::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, transparent 30%, rgba(42, 82, 152, 0.7) 100%);
        }

        .branches-map-text {
            color: white;
            font-size: 1.4rem;
            font-weight: 600;
            z-index: 1;
            text-align: center;
            padding: 20px;
        }

        .branches-map-text i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
            color: #ff7e5f;
        }

        .branches-footer {
            text-align: center;
            margin-top: 60px;
            padding: 30px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .branches-footer h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
            color: white;
            margin-bottom: 20px;
        }

        .branches-footer p {
            color: rgba(255, 255, 255, 0.8);
            max-width: 700px;
            margin: 0 auto 25px;
            line-height: 1.6;
        }

        .branches-contact-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 25px;
        }

        .branches-contact-item {
            display: flex;
            align-items: center;
            gap: 12px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
        }

        .branches-contact-icon {
            color: #ff7e5f;
            font-size: 1.4rem;
        }

        /* Animation for cards entrance */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .branch-card {
            animation: fadeInUp 0.6s ease forwards;
        }

        .branch-card:nth-child(2) {
            animation-delay: 0.2s;
        }

        /* AI ASSISTANT CHATBOT STYLES - INTEGRATED FROM SECOND CODE */
        /* ===== CSS RESET & VARIABLES ===== */
        :root {
            /* Color Palette for Chatbot */
            --ai-primary: #667eea;
            --ai-primary-dark: #5a67d8;
            --ai-primary-light: #9f7aea;
            --ai-secondary: #ed64a6;
            --ai-secondary-dark: #d53f8c;
            --ai-accent: #38b2ac;
            --ai-accent-dark: #319795;
            --ai-success: #48bb78;
            --ai-warning: #ed8936;
            --ai-danger: #f56565;
            --ai-dark: #2d3748;
            --ai-darker: #1a202c;
            --ai-light: #f7fafc;
            --ai-lighter: #ffffff;
            --ai-gray: #718096;
            --ai-gray-light: #e2e8f0;
            --ai-shadow-color: rgba(0, 0, 0, 0.1);
            
            /* Gradient Sets */
            --ai-gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --ai-gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --ai-gradient-accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --ai-gradient-success: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --ai-gradient-warning: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --ai-gradient-dark: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            
            /* Glass Morphism */
            --ai-glass-bg: rgba(255, 255, 255, 0.1);
            --ai-glass-border: rgba(255, 255, 255, 0.2);
            --ai-glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --ai-backdrop-blur: blur(20px);
            
            /* Typography */
            --ai-font-primary: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            --ai-font-secondary: 'Inter', system-ui, sans-serif;
            --ai-font-fun: 'Fredoka One', cursive;
            
            /* Spacing - Mobile First */
            --ai-space-xs: 0.25rem;
            --ai-space-sm: 0.5rem;
            --ai-space-md: 1rem;
            --ai-space-lg: 1.5rem;
            --ai-space-xl: 2rem;
            --ai-space-2xl: 3rem;
            --ai-space-3xl: 4rem;
            
            /* Border Radius */
            --ai-radius-sm: 8px;
            --ai-radius-md: 12px;
            --ai-radius-lg: 16px;
            --ai-radius-xl: 20px;
            --ai-radius-2xl: 24px;
            --ai-radius-full: 9999px;
            
            /* Shadows */
            --ai-shadow-sm: 0 2px 4px var(--ai-shadow-color);
            --ai-shadow-md: 0 4px 6px var(--ai-shadow-color);
            --ai-shadow-lg: 0 10px 15px var(--ai-shadow-color);
            --ai-shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.15);
            --ai-shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);
            
            /* Transitions */
            --ai-transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --ai-transition-normal: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --ai-transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --ai-transition-bounce: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* Z-index layers */
            --ai-z-below: -1;
            --ai-z-normal: 1;
            --ai-z-tooltip: 10;
            --ai-z-fixed: 100;
            --ai-z-modal: 1000;
            --ai-z-toast: 10000;
        }

        /* Dark Theme Variables */
        @media (prefers-color-scheme: dark) {
            :root {
                --ai-dark: #f7fafc;
                --ai-darker: #e2e8f0;
                --ai-light: #1a202c;
                --ai-lighter: #2d3748;
                --ai-gray: #a0aec0;
                --ai-gray-light: #4a5568;
                --ai-glass-bg: rgba(26, 32, 44, 0.7);
                --ai-glass-border: rgba(255, 255, 255, 0.1);
                --ai-shadow-color: rgba(0, 0, 0, 0.3);
            }
        }

        /* Chatbot Widget */
        .ai-chatbot-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 10px;
            pointer-events: none;
            width: auto;
            max-width: 100vw;
        }

        @media (max-width: 480px) {
            .ai-chatbot-widget {
                bottom: 15px;
                right: 15px;
                left: 15px;
            }
        }

        .ai-chat-toggle-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--ai-gradient-primary);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--ai-shadow-xl);
            transition: var(--ai-transition-bounce);
            position: relative;
            animation: glow 3s infinite;
            pointer-events: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-appearance: none;
            touch-action: manipulation;
            min-height: 60px;
            min-width: 60px;
            z-index: 1001;
        }

        .ai-chat-toggle-btn:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .ai-chat-toggle-btn::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: inherit;
            animation: ripple 2s infinite;
            z-index: -1;
        }

        .ai-chat-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--ai-danger);
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            animation: pulse 2s infinite;
            z-index: var(--ai-z-tooltip);
        }

        .ai-chat-window {
            position: absolute;
            bottom: calc(100% + 10px);
            right: 0;
            width: min(calc(100vw - 40px), 400px);
            height: min(calc(100vh - 150px), 600px);
            max-height: 80vh;
            background: var(--ai-lighter);
            border-radius: var(--ai-radius-2xl);
            box-shadow: var(--ai-shadow-2xl);
            overflow: hidden;
            display: none;
            flex-direction: column;
            transform-origin: bottom right;
            animation: slideInUp 0.3s ease-out;
            border: 1px solid var(--ai-gray-light);
            pointer-events: auto;
            z-index: 1001;
        }

        @media (max-width: 480px) {
            .ai-chat-window {
                width: calc(100vw - 30px);
                bottom: calc(100% + 5px);
                right: 0;
                left: 0;
                margin: 0 auto;
            }
        }

        .ai-chat-window.active {
            display: flex;
        }

        /* Chat Header */
        .ai-chat-header {
            background: var(--ai-gradient-primary);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
            min-height: 70px;
        }

        .ai-chat-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 1%, transparent 20%);
            animation: spin 15s linear infinite;
        }

        .ai-chat-bot-info {
            display: flex;
            align-items: center;
            gap: var(--ai-space-md);
            z-index: var(--ai-z-normal);
            flex: 1;
            min-width: 0;
        }

        .ai-chat-bot-avatar {
            width: 45px;
            height: 45px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            color: var(--ai-primary);
            animation: bounce 2s infinite;
            flex-shrink: 0;
        }

        .ai-chat-bot-text {
            flex: 1;
            min-width: 0;
        }

        .ai-chat-bot-text h3 {
            color: white;
            margin-bottom: 5px;
            font-size: 1.1rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .ai-chat-bot-text p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.8rem;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .ai-chat-controls {
            display: flex;
            gap: 5px;
            z-index: var(--ai-z-normal);
            flex-shrink: 0;
        }

        .ai-chat-control-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            cursor: pointer;
            transition: var(--ai-transition-normal);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            -webkit-appearance: none;
            touch-action: manipulation;
            min-height: 32px;
            min-width: 32px;
        }

        .ai-chat-control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1) rotate(5deg);
        }

        /* Chat Messages */
        .ai-chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            overflow-x: hidden;
            background: linear-gradient(180deg, var(--ai-lighter) 0%, #f8fafc 100%);
            display: flex;
            flex-direction: column;
            gap: var(--ai-space-md);
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
        }

        /* Custom Scrollbar */
        .ai-chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .ai-chat-messages::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: var(--ai-radius-full);
        }

        .ai-chat-messages::-webkit-scrollbar-thumb {
            background: var(--ai-gradient-primary);
            border-radius: var(--ai-radius-full);
        }

        .ai-message {
            max-width: 85%;
            padding: 10px 15px;
            border-radius: var(--ai-radius-xl);
            position: relative;
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1.5;
            word-wrap: break-word;
            box-shadow: var(--ai-shadow-sm);
            word-break: break-word;
        }

        @media (max-width: 480px) {
            .ai-message {
                max-width: 92%;
            }
        }

        .ai-bot-message {
            align-self: flex-start;
            background: white;
            border: 1px solid var(--ai-gray-light);
            border-bottom-left-radius: var(--ai-radius-sm);
        }

        .ai-bot-message::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 20px;
            border-width: 8px 8px 0;
            border-style: solid;
            border-color: white transparent transparent;
            filter: drop-shadow(1px 3px 2px rgba(0,0,0,0.1));
        }

        .ai-user-message {
            align-self: flex-end;
            background: var(--ai-gradient-primary);
            color: white;
            border-bottom-right-radius: var(--ai-radius-sm);
        }

        .ai-user-message::before {
            content: '';
            position: absolute;
            bottom: -8px;
            right: 20px;
            border-width: 8px 0 0 8px;
            border-style: solid;
            border-color: var(--ai-primary) transparent transparent;
        }

        .ai-message-content {
            word-wrap: break-word;
            white-space: pre-wrap;
            overflow-wrap: break-word;
        }

        .ai-message-content strong {
            font-weight: 700;
        }

        .ai-message-content em {
            font-style: italic;
            opacity: 0.9;
        }

        .ai-message-content code {
            background: rgba(0, 0, 0, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .ai-message-time {
            font-size: 0.7rem;
            opacity: 0.7;
            margin-top: 5px;
            text-align: right;
        }

        /* Typing Indicator */
        .ai-typing-indicator {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--ai-gray);
            font-style: italic;
            background: white;
            border-radius: var(--ai-radius-lg);
            margin: 0 20px;
            animation: slideUp 0.3s ease-out;
            border: 1px solid var(--ai-gray-light);
            display: none;
            flex-shrink: 0;
        }

        .ai-typing-indicator.active {
            display: flex;
        }

        .ai-typing-dots {
            display: flex;
            gap: 4px;
        }

        .ai-typing-dots span {
            width: 6px;
            height: 6px;
            background: var(--ai-gradient-primary);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .ai-typing-dots span:nth-child(2) { animation-delay: 0.2s; }
        .ai-typing-dots span:nth-child(3) { animation-delay: 0.4s; }

        /* Quick Suggestions */
        .ai-quick-suggestions {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid var(--ai-gray-light);
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            animation: slideUp 0.3s ease-out;
            flex-shrink: 0;
        }

        @media (max-width: 480px) {
            .ai-quick-suggestions {
                padding: 12px;
                gap: 6px;
            }
        }

        .ai-suggestion-btn {
            background: white;
            border: 1px solid var(--ai-primary);
            color: var(--ai-primary);
            padding: 6px 12px;
            border-radius: var(--ai-radius-full);
            cursor: pointer;
            transition: var(--ai-transition-normal);
            font-size: 0.8rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
            -webkit-appearance: none;
            touch-action: manipulation;
            min-height: 32px;
        }

        .ai-suggestion-btn:hover {
            background: var(--ai-gradient-primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--ai-shadow-md);
        }

        /* Chat Input */
        .ai-chat-input-area {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid var(--ai-gray-light);
            display: flex;
            gap: 10px;
            align-items: center;
            flex-shrink: 0;
        }

        @media (max-width: 480px) {
            .ai-chat-input-area {
                padding: 12px;
                gap: 8px;
            }
        }

        .ai-input-wrapper {
            flex: 1;
            position: relative;
            min-width: 0;
        }

        .ai-chat-input {
            width: 100%;
            padding: 12px 15px;
            padding-right: 40px;
            border: 2px solid var(--ai-gray-light);
            border-radius: var(--ai-radius-full);
            font-size: 0.9rem;
            transition: var(--ai-transition-normal);
            background: var(--ai-lighter);
            outline: none;
            font-family: var(--ai-font-secondary);
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            resize: none;
            min-height: 45px;
            max-height: 120px;
            line-height: 1.4;
        }

        .ai-chat-input:focus {
            border-color: var(--ai-primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .ai-input-actions {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 0.5rem;
        }

        .ai-input-action-btn {
            background: none;
            border: none;
            color: var(--ai-primary);
            cursor: pointer;
            font-size: 1rem;
            transition: var(--ai-transition-normal);
            padding: 0.25rem;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-appearance: none;
            touch-action: manipulation;
            min-height: 28px;
            min-width: 28px;
        }

        .ai-input-action-btn:hover {
            background: rgba(102, 126, 234, 0.1);
            color: var(--ai-primary-dark);
        }

        .ai-send-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: none;
            background: var(--ai-gradient-primary);
            color: white;
            cursor: pointer;
            transition: var(--ai-transition-bounce);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            box-shadow: var(--ai-shadow-md);
            -webkit-appearance: none;
            touch-action: manipulation;
            min-height: 45px;
            min-width: 45px;
            flex-shrink: 0;
        }

        .ai-send-btn:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: var(--ai-shadow-lg);
        }

        .ai-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Toast Notifications */
        .ai-toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            left: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: flex-end;
            pointer-events: none;
        }

        @media (max-width: 480px) {
            .ai-toast-container {
                top: 15px;
                right: 15px;
                left: 15px;
            }
        }

        .ai-toast {
            padding: 12px 20px;
            border-radius: var(--ai-radius-lg);
            background: var(--ai-lighter);
            box-shadow: var(--ai-shadow-xl);
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: min(350px, 100%);
            pointer-events: auto;
            width: 100%;
        }

        .ai-toast.show {
            transform: translateX(0);
        }

        .ai-toast.success {
            border-left: 4px solid var(--ai-success);
        }

        .ai-toast.error {
            border-left: 4px solid var(--ai-danger);
        }

        .ai-toast.warning {
            border-left: 4px solid var(--ai-warning);
        }

        .ai-toast.info {
            border-left: 4px solid var(--ai-primary);
        }

        .ai-toast-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .ai-toast.success .ai-toast-icon {
            color: var(--ai-success);
        }

        .ai-toast.error .ai-toast-icon {
            color: var(--ai-danger);
        }

        .ai-toast.warning .ai-toast-icon {
            color: var(--ai-warning);
        }

        .ai-toast.info .ai-toast-icon {
            color: var(--ai-primary);
        }

        .ai-toast-content {
            flex: 1;
            min-width: 0;
        }

        .ai-toast-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .ai-toast-message {
            font-size: 0.8rem;
            color: var(--ai-gray);
            line-height: 1.4;
        }

        .ai-toast-close {
            background: none;
            border: none;
            color: var(--ai-gray);
            cursor: pointer;
            font-size: 0.9rem;
            padding: 0.25rem;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            -webkit-appearance: none;
            touch-action: manipulation;
            min-height: 24px;
            min-width: 24px;
        }

        .ai-toast-close:hover {
            background: var(--ai-gray-light);
            color: var(--ai-dark);
        }

        /* Loading Screen */
        .ai-loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--ai-light);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .ai-loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .ai-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(102, 126, 234, 0.1);
            border-top-color: var(--ai-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        /* Animations for AI Assistant */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes typing {
            0%, 100% { transform: translateY(0); opacity: 0.4; }
            50% { transform: translateY(-8px); opacity: 1; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.5); }
            50% { box-shadow: 0 0 40px rgba(102, 126, 234, 0.8); }
        }

        /* Notification Bell */
        .ai-notification-bell {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            background: var(--ai-gradient-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            box-shadow: var(--ai-shadow-lg);
            z-index: 999;
            animation: bounce 2s infinite;
            display: none;
        }
        
        @media (max-width: 768px) {
            .ai-notification-bell {
                top: 15px;
                left: 15px;
                width: 44px;
                height: 44px;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .fixed-header {
                padding: 15px 20px;
            }
            
            .nav-menu ul {
                display: none;
            }
            
            .mobile-toggle {
                display: block;
                margin-left: auto;
            }
            
            .mobile-menu {
                display: none;
                flex-direction: column;
                width: 100%;
                order: 3;
            }
            
            .mobile-menu.active {
                display: block;
            }
            
            .main-header {
                margin-top: 120px;
            }
            
            .content {
                background-color: rgba(255, 255, 255, 0.95);
                margin: 20px;
                padding: 30px 15px;
            }

            #contact {
                padding: 20px 15px;
                margin: 20px;
            }

            .contact-container {
                flex-direction: column;
            }

            .form-row {
                flex-direction: column;
            }

            .gallery-item {
                width: 48%;
            }

            .video-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            video {
                height: 180px;
            }

            .founder-image {
                width: 95%;
            }

            /* Social Media Responsive */
            .social-icons-container {
                gap: 30px;
            }
            
            .social-btn {
                width: 100px;
                height: 100px;
            }
            
            .social-title {
                font-size: 36px;
            }
            
            .subtitle {
                font-size: 16px;
                padding: 0 20px;
            }

            /* Footer Responsive */
            .footer-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .back-to-top {
                bottom: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            /* Branches Responsive */
            .branches-cards-container {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .branch-card {
                padding: 25px;
            }
            
            .branches-header h2 {
                font-size: 2.2rem;
            }
            
            .branch-action-buttons {
                flex-direction: column;
            }
            
            .branch-btn {
                width: 100%;
            }
            
            .branches-contact-info {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            /* AI Chatbot Responsive */
            .ai-chat-toggle-btn {
                width: 56px;
                height: 56px;
                font-size: 1.3rem;
            }
            
            .ai-chat-window {
                width: calc(100vw - 30px);
            }
        }
        
        @media (max-width: 480px) {
            .gallery-item {
                width: 100%;
            }
            
            .video-container {
                padding: 15px;
            }

            .founder-image {
                height: 250px;
            }

            /* Social Media Responsive */
            .social-icons-container {
                gap: 20px;
            }
            
            .social-btn {
                width: 85px;
                height: 85px;
            }
            
            .social-btn i {
                font-size: 42px;
            }
            
            .social-title {
                font-size: 30px;
            }
            
            .subtitle {
                font-size: 15px;
                margin-bottom: 40px;
            }
            
            .platform-name {
                font-size: 12px;
            }

            /* Branches Responsive */
            .branches-header h2 {
                font-size: 1.8rem;
            }
            
            .branch-card-title {
                font-size: 1.6rem;
            }
            
            .branch-address-text {
                font-size: 1rem;
            }
            
            .branch-btn {
                padding: 14px 20px;
                font-size: 1rem;
            }

            /* AI Chatbot Responsive */
            .ai-chat-toggle-btn {
                width: 52px;
                height: 52px;
                font-size: 1.2rem;
            }
            
            .ai-chat-bot-avatar {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
            }
            
            .ai-chat-bot-text h3 {
                font-size: 1rem;
            }
            
            .ai-chat-bot-text p {
                font-size: 0.75rem;
            }
        }
        
        @media (min-width: 769px) {
            .mobile-menu {
                display: none !important;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Gallery subpage navigation */
        .gallery-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .gallery-nav-btn {
            padding: 12px 25px;
            background: #ff9933;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .gallery-nav-btn:hover {
            background: #ff6600;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 153, 51, 0.4);
        }

        .gallery-nav-btn.active {
            background: #ff6600;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(255, 153, 51, 0.3);
        }

        /* Subpage styles */
        .gallery-subpage {
            display: none;
        }

        .gallery-subpage.active {
            display: block;
        }
    </style>
</head>
<body>

    <!-- AI Assistant Loading Screen -->
    <div class="ai-loading-screen" id="aiLoadingScreen">
        <div class="ai-loading-spinner"></div>
        <h3 style="color: var(--ai-primary); margin-bottom: 10px;">CRYSTAL PRE-SCHOOL</h3>
        <p style="color: var(--ai-gray);">Loading AI Assistant...</p>
    </div>

    <!-- AI Assistant Toast Notifications Container -->
    <div class="ai-toast-container" id="aiToastContainer"></div>

    <!-- AI Assistant Notification Bell -->
    <div class="ai-notification-bell" id="aiNotificationBell">
        <i class="fas fa-bell"></i>
        <span class="ai-chat-badge" id="aiNotificationBadge">1</span>
    </div>

    <!-- FIXED HEADER WITH LOGO AND NAVIGATION -->
    <header class="fixed-header">
        <img src="7391b58a-1bb8-4205-9fea-b1382b4305b0.png" 
             alt="Crystal Preschool Logo" class="logo" onclick="showHomePage()" style="cursor: pointer;">
        
        <!-- Desktop Navigation Menu -->
        <nav class="nav-menu">
            <ul>
                <li><a onclick="showHomePage()">Home</a></li>
                <li><a onclick="showAboutPage()">About Us</a></li>
                <li><a onclick="showBranchesPage()">Branches</a></li>
                <li><a onclick="showGalleryPage()">Gallery</a></li>
                <li><a onclick="showSocialPage()">Connect Us</a></li>
                <li><a onclick="showContactPage()">Contact Us</a></li>
            </ul>
        </nav>
        
        <!-- Mobile Menu Button -->
        <button class="mobile-toggle" onclick="toggleMobileMenu()"> Menu</button>
        
        <!-- Mobile Menu (Hidden by default) -->
        <div class="mobile-menu" id="mobileMenu">
            <a onclick="showHomePage()">Home</a>
            <a onclick="showAboutPage()">About Us</a>
            <a onclick="showBranchesPage()">Branches</a>
            <a onclick="showGalleryPage()">Gallery</a>
            <a onclick="showSocialPage()">Connect Us</a>
            <a onclick="showContactPage()">Contact Us</a>
        </div>
    </header>

    <!-- HOME PAGE (Visible by default) -->
    <div id="home-page">
        <header class="main-header">
            <h1>Crystal Pre-School</h1>
            <p>Providing a safe, nurturing, and stimulating environment for early learning</p>
        </header>

        <div class="content">
            <h2>Welcome to Crystal Preschool</h2>
            <p>At Crystal Preschool, we believe in nurturing young minds through a balanced approach of structured learning and creative exploration. Our dedicated team provides a safe, caring environment where children can grow, learn, and thrive.</p>
            <p>Use the menu above to explore our programs, view our facilities, learn about our branches, or get in touch with us.</p>
            
            <div style="margin-top: 40px; padding: 30px; background: rgba(255, 204, 51, 0.1); border-radius: 10px;">
                <h3>Quick Links</h3>
                <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 20px;">
                    <button onclick="showAboutPage()" style="padding: 12px 24px; background: #ff9933; color: white; border: none; border-radius: 5px; cursor: pointer;">About Our School</button>
                    <button onclick="showBranchesPage()" style="padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">Our Branches</button>
                    <button onclick="showGalleryPage()" style="padding: 12px 24px; background: #48bb78; color: white; border: none; border-radius: 5px; cursor: pointer;">View Gallery</button>
                    <button onclick="showContactPage()" style="padding: 12px 24px; background: #ed64a6; color: white; border: none; border-radius: 5px; cursor: pointer;">Contact Us</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ABOUT US SECTION -->
    <section id="about">
        <!-- Animated Water Background -->
        <div style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(173, 216, 230, 0.15) 0%, rgba(135, 206, 250, 0.2) 50%, rgba(176, 224, 230, 0.1) 100%);
            z-index: 0;
            overflow: hidden;
        ">
            <!-- Water wave animation -->
            <div style="
                position: absolute;
                bottom: 0;
                left: 0;
                width: 200%;
                height: 200px;
                background: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80');
                background-size: 1000px;
                animation: waterWave 20s linear infinite;
                opacity: 0.3;
            "></div>
            
            <!-- Floating bubbles -->
            <div style="
                position: absolute;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
            ">
                <div style="
                    position: absolute;
                    width: 20px;
                    height: 20px;
                    background: rgba(255, 255, 255, 0.4);
                    border-radius: 50%;
                    top: 10%;
                    left: 10%;
                    animation: floatBubble 15s infinite ease-in-out;
                "></div>
                <div style="
                    position: absolute;
                    width: 15px;
                    height: 15px;
                    background: rgba(173, 216, 230, 0.5);
                    border-radius: 50%;
                    top: 30%;
                    left: 80%;
                    animation: floatBubble 12s infinite ease-in-out 2s;
                "></div>
                <div style="
                    position: absolute;
                    width: 25px;
                    height: 25px;
                    background: rgba(135, 206, 250, 0.4);
                    border-radius: 50%;
                    top: 70%;
                    left: 20%;
                    animation: floatBubble 18s infinite ease-in-out 1s;
                "></div>
                <div style="
                    position: absolute;
                    width: 10px;
                    height: 10px;
                    background: rgba(255, 255, 255, 0.5);
                    border-radius: 50%;
                    top: 50%;
                    left: 60%;
                    animation: floatBubble 10s infinite ease-in-out 3s;
                "></div>
            </div>
            
            <!-- Shimmer effect -->
            <div style="
                position: absolute;
                top: 0;
                left: -100%;
                width: 50%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                animation: shimmer 8s infinite linear;
            "></div>
        </div>
        
        <!-- Content Container -->
        <div style="
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
        ">
            <!-- Header with Animation -->
            <div style="
                text-align: center;
                margin-bottom: 70px;
                animation: fadeInDown 1s ease-out;
            ">
                <h2 style="
                    font-size: 3.2rem;
                    color: #1a5f7a;
                    margin-bottom: 15px;
                    position: relative;
                    display: inline-block;
                    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
                    font-weight: 800;
                ">
                    <span style="
                        background: linear-gradient(90deg, #1a5f7a, #2a8bb8);
                        -webkit-background-clip: text;
                        background-clip: text;
                        color: transparent;
                        display: inline-block;
                        transform: perspective(500px) rotateX(15deg);
                    ">About Us</span>
                    <div style="
                        position: absolute;
                        bottom: -15px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 120px;
                        height: 5px;
                        background: linear-gradient(90deg, transparent, #57ccff, transparent);
                        border-radius: 3px;
                    "></div>
                </h2>
                <p style="
                    font-size: 1.3rem;
                    color: #2c3e50;
                    max-width: 800px;
                    margin: 30px auto 0;
                    line-height: 1.6;
                    font-weight: 300;
                    background: rgba(255, 255, 255, 0.8);
                    padding: 20px;
                    border-radius: 15px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
                    backdrop-filter: blur(5px);
                    animation: fadeIn 1.5s ease-out 0.3s both;
                ">
                    Where curiosity meets care, and every child's potential is nurtured in a 
                    <span style="color: #1a5f7a; font-weight: 600;">flow of learning and growth</span>
                </p>
            </div>
            
            <!-- Main Content Grid -->
            <div style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 40px;
                margin-bottom: 60px;
            ">
                <!-- Philosophy Card -->
                <div style="
                    background: rgba(255, 255, 255, 0.92);
                    padding: 40px 30px;
                    border-radius: 20px;
                    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
                    backdrop-filter: blur(10px);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    animation: slideInLeft 1s ease-out;
                    position: relative;
                    overflow: hidden;
                ">
                    <div style="
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 5px;
                        background: linear-gradient(90deg, #1a5f7a, #57ccff);
                    "></div>
                    
                    <div style="
                        width: 70px;
                        height: 70px;
                        background: linear-gradient(135deg, #1a5f7a, #57ccff);
                        border-radius: 50%;
                        margin-bottom: 25px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        box-shadow: 0 10px 20px rgba(26, 95, 122, 0.2);
                        animation: pulse 2s infinite;
                    ">
                        <svg style="width: 35px; height: 35px; fill: white;" viewBox="0 0 24 24">
                            <path d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z" />
                        </svg>
                    </div>
                    
                    <h3 style="
                        font-size: 1.8rem;
                        color: #1a5f7a;
                        margin-bottom: 20px;
                        font-weight: 700;
                    ">Our Philosophy</h3>
                    
                    <p style="
                        line-height: 1.7;
                        color: #2c3e50;
                        margin-bottom: 25px;
                        font-size: 1.05rem;
                    ">
                        Crystal Pre-School is committed to nurturing young minds through structured learning, play-based 
                        activities, and supportive care. Our experienced staff ensures every child receives the attention 
                        they need to grow confidently in all developmental areas.
                    </p>
                    
                    <div style="
                        display: flex;
                        align-items: center;
                        color: #1a5f7a;
                        font-weight: 600;
                        margin-top: 20px;
                    ">
                        <span style="margin-right: 10px;">Discover more</span>
                        <div style="
                            width: 30px;
                            height: 30px;
                            border-radius: 50%;
                            background: rgba(26, 95, 122, 0.1);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            transition: transform 0.3s;
                        ">
                            
                        </div>
                    </div>
                </div>
                
                <!-- Mission Card -->
                <div style="
                    background: rgba(255, 255, 255, 0.92);
                    padding: 40px 30px;
                    border-radius: 20px;
                    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
                    backdrop-filter: blur(10px);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    animation: slideInUp 1s ease-out 0.2s both;
                    position: relative;
                    overflow: hidden;
                ">
                    <div style="
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 5px;
                        background: linear-gradient(90deg, #57ccff, #1a5f7a);
                    "></div>
                    
                    <div style="
                        width: 70px;
                        height: 70px;
                        background: linear-gradient(135deg, #57ccff, #1a5f7a);
                        border-radius: 50%;
                        margin-bottom: 25px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        box-shadow: 0 10px 20px rgba(87, 204, 255, 0.2);
                        animation: pulse 2s infinite 0.5s;
                    ">
                        <svg style="width: 35px; height: 35px; fill: white;" viewBox="0 0 24 24">
                            <path d="M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16" />
                        </svg>
                    </div>
                    
                    <h3 style="
                        font-size: 1.8rem;
                        color: #1a5f7a;
                        margin-bottom: 20px;
                        font-weight: 700;
                    ">Our Mission</h3>
                    
                    <p style="
                        line-height: 1.7;
                        color: #2c3e50;
                        font-size: 1.05rem;
                    ">
                        Providing a safe, nurturing, and stimulating environment that fosters a love of learning and helps 
                        children develop socially, emotionally, and cognitively.
                    </p>
                    
                    <div style="
                        margin-top: 30px;
                        padding: 15px;
                        background: rgba(87, 204, 255, 0.1);
                        border-radius: 10px;
                        border-left: 4px solid #57ccff;
                    ">
                        <p style="
                            color: #1a5f7a;
                            font-style: italic;
                            margin: 0;
                            font-size: 0.95rem;
                        ">
                            "Every child is a different kind of flower, and all together make this world a beautiful garden."
                        </p>
                    </div>
                </div>
                
                <!-- Features Card -->
                <div style="
                    background: rgba(255, 255, 255, 0.92);
                    padding: 40px 30px;
                    border-radius: 20px;
                    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
                    backdrop-filter: blur(10px);
                    border: 1px solid rgba(255, 255, 255, 0.3);
                    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    animation: slideInRight 1s ease-out 0.4s both;
                    position: relative;
                    overflow: hidden;
                    grid-column: span 2;
                ">
                    <div style="
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 5px;
                        background: linear-gradient(90deg, #1a5f7a, #57ccff, #1a5f7a);
                    "></div>
                    
                    <h3 style="
                        font-size: 1.8rem;
                        color: #1a5f7a;
                        margin-bottom: 30px;
                        font-weight: 700;
                        text-align: center;
                    ">Our Learning Environment</h3>
                    
                    <div style="
                        display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                        gap: 25px;
                    ">
                        <!-- Feature 1 -->
                        <div style="
                            background: white;
                            padding: 25px 20px;
                            border-radius: 15px;
                            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
                            transition: all 0.3s ease;
                            border: 1px solid rgba(87, 204, 255, 0.2);
                            text-align: center;
                        ">
                            <div style="
                                width: 50px;
                                height: 50px;
                                background: linear-gradient(135deg, #57ccff, #1a5f7a);
                                border-radius: 50%;
                                margin: 0 auto 15px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                color: white;
                                font-size: 1.5rem;
                            "></div>
                            <h4 style="
                                color: #1a5f7a;
                                margin-bottom: 10px;
                                font-size: 1.2rem;
                            ">Water Play Area</h4>
                            <p style="
                                color: #666;
                                font-size: 0.95rem;
                                line-height: 1.5;
                            ">Safe water exploration zone for sensory development and fun learning</p>
                        </div>
                        
                        <!-- Feature 2 -->
                        <div style="
                            background: white;
                            padding: 25px 20px;
                            border-radius: 15px;
                            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
                            transition: all 0.3s ease;
                            border: 1px solid rgba(87, 204, 255, 0.2);
                            text-align: center;
                        ">
                            <div style="
                                width: 50px;
                                height: 50px;
                                background: linear-gradient(135deg, #57ccff, #1a5f7a);
                                border-radius: 50%;
                                margin: 0 auto 15px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                color: white;
                                font-size: 1.5rem;
                            "></div>
                            <h4 style="
                                color: #1a5f7a;
                                margin-bottom: 10px;
                                font-size: 1.2rem;
                            ">Creative Arts Studio</h4>
                            <p style="
                                color: #666;
                                font-size: 0.95rem;
                                line-height: 1.5;
                            ">Inspiring space for artistic expression with natural light and quality materials</p>
                        </div>
                        
                        <!-- Feature 3 -->
                        <div style="
                            background: white;
                            padding: 25px 20px;
                            border-radius: 15px;
                            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
                            transition: all 0.3s ease;
                            border: 1px solid rgba(87, 204, 255, 0.2);
                            text-align: center;
                        ">
                            <div style="
                                width: 50px;
                                height: 50px;
                                background: linear-gradient(135deg, #57ccff, #1a5f7a);
                                border-radius: 50%;
                                margin: 0 auto 15px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                color: white;
                                font-size: 1.5rem;
                            "></div>
                            <h4 style="
                                color: #1a5f7a;
                                margin-bottom: 10px;
                                font-size: 1.2rem;
                            ">Nature Garden</h4>
                            <p style="
                                color: #666;
                                font-size: 0.95rem;
                                line-height: 1.5;
                            ">Outdoor learning space with plants, insects, and exploration areas</p>
                        </div>
                        
                        <!-- Feature 4 -->
                        <div style="
                            background: white;
                            padding: 25px 20px;
                            border-radius: 15px;
                            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
                            transition: all 0.3s ease;
                            border: 1px solid rgba(87, 204, 255, 0.2);
                            text-align: center;
                        ">
                            <div style="
                                width: 50px;
                                height: 50px;
                                background: linear-gradient(135deg, #57ccff, #1a5f7a);
                                border-radius: 50%;
                                margin: 0 auto 15px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                color: white;
                                font-size: 1.5rem;
                            "></div>
                            <h4 style="
                                color: #1a5f7a;
                                margin-bottom: 10px;
                                font-size: 1.2rem;
                            ">Interactive Library</h4>
                            <p style="
                                color: #666;
                                font-size: 0.95rem;
                                line-height: 1.5;
                            ">Cozy reading nook with diverse books and storytelling sessions</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Values Section with Water Theme -->
            <div style="
                background: rgba(255, 255, 255, 0.92);
                padding: 50px 40px;
                border-radius: 20px;
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.3);
                margin-bottom: 60px;
                animation: fadeIn 1.5s ease-out;
                position: relative;
                overflow: hidden;
            ">
                <div style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80');
                    background-size: cover;
                    opacity: 0.05;
                    z-index: -1;
                "></div>
                
                <h3 style="
                    font-size: 2.2rem;
                    color: #1a5f7a;
                    margin-bottom: 40px;
                    text-align: center;
                    font-weight: 800;
                    position: relative;
                ">
                    <span style="
                        background: linear-gradient(90deg, #1a5f7a, #57ccff);
                        -webkit-background-clip: text;
                        background-clip: text;
                        color: transparent;
                    ">Our Values</span>
                    <div style="
                        position: absolute;
                        bottom: -15px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 100px;
                        height: 4px;
                        background: linear-gradient(90deg, #1a5f7a, #57ccff);
                        border-radius: 2px;
                    "></div>
                </h3>
                
                <div style="
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
                    gap: 30px;
                ">
                    <!-- Value 1 -->
                    <div style="
                        text-align: center;
                        padding: 30px 20px;
                        background: white;
                        border-radius: 15px;
                        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.06);
                        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                        border: 1px solid rgba(87, 204, 255, 0.3);
                        position: relative;
                        overflow: hidden;
                    ">
                        <div style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 5px;
                            background: linear-gradient(90deg, #1a5f7a, #57ccff);
                        "></div>
                        <div style="
                            width: 70px;
                            height: 70px;
                            background: linear-gradient(135deg, #1a5f7a, #57ccff);
                            border-radius: 50%;
                            margin: 0 auto 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: white;
                            font-size: 1.8rem;
                            box-shadow: 0 10px 20px rgba(26, 95, 122, 0.2);
                        "></div>
                        <h4 style="
                            color: #1a5f7a;
                            margin-bottom: 15px;
                            font-size: 1.3rem;
                            font-weight: 700;
                        ">Safety and Security</h4>
                        <p style="
                            color: #666;
                            font-size: 0.95rem;
                            line-height: 1.6;
                        ">Secure facilities with controlled access, comprehensive safety protocols, and certified first-aid staff.</p>
                    </div>
                    
                    <!-- Value 2 -->
                    <div style="
                        text-align: center;
                        padding: 30px 20px;
                        background: white;
                        border-radius: 15px;
                        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.06);
                        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                        border: 1px solid rgba(87, 204, 255, 0.3);
                        position: relative;
                        overflow: hidden;
                    ">
                        <div style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 5px;
                            background: linear-gradient(90deg, #57ccff, #1a5f7a);
                        "></div>
                        <div style="
                            width: 70px;
                            height: 70px;
                            background: linear-gradient(135deg, #57ccff, #1a5f7a);
                            border-radius: 50%;
                            margin: 0 auto 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: white;
                            font-size: 1.8rem;
                            box-shadow: 0 10px 20px rgba(87, 204, 255, 0.2);
                        "></div>
                        <h4 style="
                            color: #1a5f7a;
                            margin-bottom: 15px;
                            font-size: 1.3rem;
                            font-weight: 700;
                        ">Care and Compassion</h4>
                        <p style="
                            color: #666;
                            font-size: 0.95rem;
                            line-height: 1.6;
                        ">Individualized attention with emotional support, nurturing guidance, and positive reinforcement.</p>
                    </div>
                    
                    <!-- Value 3 -->
                    <div style="
                        text-align: center;
                        padding: 30px 20px;
                        background: white;
                        border-radius: 15px;
                        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.06);
                        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                        border: 1px solid rgba(87, 204, 255, 0.3);
                        position: relative;
                        overflow: hidden;
                    ">
                        <div style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 5px;
                            background: linear-gradient(90deg, #1a5f7a, #57ccff);
                        "></div>
                        <div style="
                            width: 70px;
                            height: 70px;
                            background: linear-gradient(135deg, #1a5f7a, #57ccff);
                            border-radius: 50%;
                            margin: 0 auto 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: white;
                            font-size: 1.8rem;
                            box-shadow: 0 10px 20px rgba(26, 95, 122, 0.2);
                        "></div>
                        <h4 style="
                            color: #1a5f7a;
                            margin-bottom: 15px;
                            font-size: 1.3rem;
                            font-weight: 700;
                        ">Creativity and Exploration</h4>
                        <p style="
                            color: #666;
                            font-size: 0.95rem;
                            line-height: 1.6;
                        ">Arts, music, imaginative play, and hands-on activities to foster creative thinking and curiosity.</p>
                    </div>
                    
                    <!-- Value 4 -->
                    <div style="
                        text-align: center;
                        padding: 30px 20px;
                        background: white;
                        border-radius: 15px;
                        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.06);
                        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                        border: 1px solid rgba(87, 204, 255, 0.3);
                        position: relative;
                        overflow: hidden;
                    ">
                        <div style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 5px;
                            background: linear-gradient(90deg, #57ccff, #1a5f7a);
                        "></div>
                        <div style="
                            width: 70px;
                            height: 70px;
                            background: linear-gradient(135deg, #57ccff, #1a5f7a);
                            border-radius: 50%;
                            margin: 0 auto 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: white;
                            font-size: 1.8rem;
                            box-shadow: 0 10px 20px rgba(87, 204, 255, 0.2);
                        "></div>
                        <h4 style="
                            color: #1a5f7a;
                            margin-bottom: 15px;
                            font-size: 1.3rem;
                            font-weight: 700;
                        ">Developmentally Appropriate Learning</h4>
                        <p style="
                            color: #666;
                            font-size: 0.95rem;
                            line-height: 1.6;
                        ">Curriculum tailored to each child's developmental stage, interests, and unique learning style.</p>
                    </div>
                </div>
            </div>
            
            <!-- Floating CTA -->
            <div style="
                text-align: center;
                padding: 50px 30px;
                background: linear-gradient(135deg, rgba(26, 95, 122, 0.9), rgba(87, 204, 255, 0.8));
                border-radius: 20px;
                color: white;
                box-shadow: 0 20px 40px rgba(26, 95, 122, 0.3);
                animation: float 6s ease-in-out infinite;
                position: relative;
                overflow: hidden;
            ">
                <div style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80');
                    background-size: cover;
                    opacity: 0.1;
                    z-index: 0;
                "></div>
                
                <div style="position: relative; z-index: 1;">
                    <h3 style="
                        font-size: 2.2rem;
                        margin-bottom: 20px;
                        font-weight: 800;
                        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
                    ">Begin Your Child's Journey With Us</h3>
                    <p style="
                        margin-bottom: 30px;
                        max-width: 700px;
                        margin-left: auto;
                        margin-right: auto;
                        font-size: 1.2rem;
                        line-height: 1.6;
                        opacity: 0.95;
                    ">
                        Schedule a visit to experience our nurturing water-themed environment and see how Crystal Pre-School can be the perfect start for your child's educational journey.
                    </p>
                    <div style="
                        display: flex;
                        justify-content: center;
                        gap: 20px;
                        flex-wrap: wrap;
                    ">
                        <button id="tourBtn" style="
                            padding: 16px 35px;
                            background: white;
                            color: #1a5f7a;
                            border: none;
                            border-radius: 50px;
                            font-weight: bold;
                            font-size: 1.1rem;
                            cursor: pointer;
                            transition: all 0.3s;
                            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
                            position: relative;
                            overflow: hidden;
                            z-index: 1;
                        ">
                            <span style="position: relative; z-index: 2;">Schedule a Tour</span>
                            <div style="
                                position: absolute;
                                top: 0;
                                left: -100%;
                                width: 100%;
                                height: 100%;
                                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
                                transition: left 0.5s;
                            "></div>
                        </button>
                        <button id="brochureBtn" style="
                            padding: 16px 35px;
                            background: transparent;
                            color: white;
                            border: 2px solid white;
                            border-radius: 50px;
                            font-weight: bold;
                            font-size: 1.1rem;
                            cursor: pointer;
                            transition: all 0.3s;
                            position: relative;
                            overflow: hidden;
                            z-index: 1;
                        ">
                            <span style="position: relative; z-index: 2;">Download Brochure</span>
                            <div style="
                                position: absolute;
                                top: 0;
                                left: -100%;
                                width: 100%;
                                height: 100%;
                                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                                transition: left 0.5s;
                            "></div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- BRANCHES SECTION - INTEGRATED FROM SECOND CODE -->
    <section id="branches">
        <div class="branches-container">
            <div class="branches-header">
                <div class="branches-logo">
                    <div class="branches-logo-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h2>Our Branches</h2>
                </div>
                <p>Find our two convenient locations in Polokwane, Limpopo. Get directions or call us directly for more information about our early childhood education programs.</p>
            </div>
            
            <div class="branches-cards-container">
                <!-- Section B2 Branch Card -->
                <div class="branch-card">
                    <div class="branch-card-header">
                        <div class="branch-card-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="branch-card-title">Section B2 Branch</div>
                    </div>
                    
                    <div class="branch-card-address">
                        <div class="branch-address-line">
                            <div class="branch-address-icon">
                                <i class="fas fa-map-pin"></i>
                            </div>
                            <div class="branch-address-text">
                                <strong>Location:</strong> Section B2, Next to Salvation Army Church
                            </div>
                        </div>
                        
                        <div class="branch-address-line">
                            <div class="branch-address-icon">
                                <i class="fas fa-village"></i>
                            </div>
                            <div class="branch-address-text">
                                <strong>Area:</strong> Mnele Village
                            </div>
                        </div>
                        
                        <div class="branch-address-line">
                            <div class="branch-address-icon">
                                <i class="fas fa-city"></i>
                            </div>
                            <div class="branch-address-text">
                                <strong>City & Province:</strong> Polokwane, Limpopo
                            </div>
                        </div>
                        
                        <div class="branch-address-line">
                            <div class="branch-address-icon">
                                <i class="fas fa-flag"></i>
                            </div>
                            <div class="branch-address-text">
                                <strong>Country:</strong> South Africa
                            </div>
                        </div>
                    </div>
                    
                    <div class="branches-map-preview">
                        <div class="branches-map-text">
                            <i class="fas fa-map-marked-alt"></i>
                            Get directions to our Section B2 campus
                        </div>
                    </div>
                    
                    <div class="branch-action-buttons">
                        <button class="branch-btn branch-btn-primary" onclick="callBranch('0783187635')">
                            <i class="fas fa-phone branch-btn-icon"></i>
                            Call Now
                        </button>
                        <button class="branch-btn branch-btn-secondary" onclick="getDirections('Section B2 Next to Salvation Army Church, Mnele Village, Polokwane, Limpopo, South Africa')">
                            <i class="fas fa-directions branch-btn-icon"></i>
                            Get Directions
                        </button>
                    </div>
                </div>
                
                <!-- Stand No. 561 Branch Card -->
                <div class="branch-card">
                    <div class="branch-card-header">
                        <div class="branch-card-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="branch-card-title">Stand No. 561 Branch</div>
                    </div>
                    
                    <div class="branch-card-address">
                        <div class="branch-address-line">
                            <div class="branch-address-icon">
                                <i class="fas fa-map-pin"></i>
                            </div>
                            <div class="branch-address-text">
                                <strong>Location:</strong> Stand No. 561, Mnele Village
                            </div>
                        </div>
                        
                        <div class="branch-address-line">
                            <div class="branch-address-icon">
                                <i class="fas fa-village"></i>
                            </div>
                            <div class="branch-address-text">
                                <strong>Area:</strong> Mnele Village
                            </div>
                        </div>
                        
                        <div class="branch-address-line">
                            <div class="branch-address-icon">
                                <i class="fas fa-city"></i>
                            </div>
                            <div class="branch-address-text">
                                <strong>City & Province:</strong> Polokwane, Limpopo
                            </div>
                        </div>
                        
                        <div class="branch-address-line">
                            <div class="branch-address-icon">
                                <i class="fas fa-flag"></i>
                            </div>
                            <div class="branch-address-text">
                                <strong>Country:</strong> South Africa
                            </div>
                        </div>
                    </div>
                    
                    <div class="branches-map-preview">
                        <div class="branches-map-text">
                            <i class="fas fa-map-marked-alt"></i>
                            Get directions to our Stand No. 561 campus
                        </div>
                    </div>
                    
                    <div class="branch-action-buttons">
                        <button class="branch-btn branch-btn-primary" onclick="callBranch('0783187635')">
                            <i class="fas fa-phone branch-btn-icon"></i>
                            Call Now
                        </button>
                        <button class="branch-btn branch-btn-secondary" onclick="getDirections('Stand No. 561, Mnele Village, Polokwane, Limpopo, South Africa')">
                            <i class="fas fa-directions branch-btn-icon"></i>
                            Get Directions
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="branches-footer">
                <h3>Need More Information?</h3>
                <p>Our friendly staff is available to answer any questions you may have about our programs, admission process, or facility tours. Feel free to call us or visit during operating hours.</p>
                
                <div class="branches-contact-info">
                    <div class="branches-contact-item">
                        <i class="fas fa-phone branches-contact-icon"></i>
                        <span>078 318 7635</span>
                    </div>
                    <div class="branches-contact-item">
                        <i class="fas fa-clock branches-contact-icon"></i>
                        <span>Mon-Fri: 7:30 AM - 5:30 PM</span>
                    </div>
                    <div class="branches-contact-item">
                        <i class="fas fa-map-marker-alt branches-contact-icon"></i>
                        <span>Two Locations in Polokwane</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- GALLERY SECTION (Includes Founder, Photos, and Videos) -->
    <section id="gallery">
        <h2>Gallery</h2>
        
        <!-- Gallery Navigation -->
        <div class="gallery-nav">
            <button class="gallery-nav-btn active" onclick="showGallerySubpage('photos')">School Photos</button>
            <button class="gallery-nav-btn" onclick="showGallerySubpage('videos')">Video Gallery</button>
            <button class="gallery-nav-btn" onclick="showGallerySubpage('founder')">Our Founder</button>
        </div>
        
        <!-- Founder Subpage -->
        <div id="founder-subpage" class="gallery-subpage active">
            <div class="founder-subsection">
                <div class="founder-container">
                    <div class="founder-image" onclick="openLightbox('images/founder.jpg', 'Founder - Mrs. Zhou')">
                        <img src="images/founder.jpg" alt="Founder - Mrs. Zhou">
                        <div class="founder-hover">Click to view/download</div>
                    </div>
                    <div class="founder-info">
                        <h3>Mrs. Zhou</h3>
                        <p>With over 20 years of experience in early childhood education, Mrs. Zhou established Crystal Preschool in 2005 with a vision to create a nurturing environment where children can grow, learn, and thrive. Her passion for holistic child development continues to inspire our teaching philosophy.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Photos Subpage -->
        <div id="photos-subpage" class="gallery-subpage">
            <div class="photos-subsection">
                <h3>School Photos</h3>
                
                <h4 style="color: #2c3e50; text-align: center; margin: 30px 0 20px;">SCHOOL STAFF</h4>
                <div class="gallery-grid">
                    <div class="gallery-item" onclick="openLightbox('images/photo15.jpg', 'School Staff')">
                        <img src="images/photo15.jpg" alt="School Staff">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo16.jpg', 'School Staff')">
                        <img src="images/photo16.jpg" alt="School Staff">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo17.jpg', 'School Staff')">
                        <img src="images/photo17.jpg" alt="School Staff">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo18.jpg', 'School Staff')">
                        <img src="images/photo18.jpg" alt="School Staff">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                </div>

                <h4 style="color: #2c3e50; text-align: center; margin: 40px 0 20px;">ACTIVITIES & EVENTS</h4>
                <div class="gallery-grid">
                    <div class="gallery-item" onclick="openLightbox('images/photo1.jpg', 'Children playing')">
                        <img src="images/photo1.jpg" alt="Children playing">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo2.jpg', 'Classroom activity')">
                        <img src="images/photo2.jpg" alt="Classroom activity">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo3.jpg', 'Outdoor play')">
                        <img src="images/photo3.jpg" alt="Outdoor play">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo4.jpg', 'Art project')">
                        <img src="images/photo4.jpg" alt="Art project">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo5.jpg', 'Story time')">
                        <img src="images/photo5.jpg" alt="Story time">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo6.jpg', 'Learning center')">
                        <img src="images/photo6.jpg" alt="Learning center">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo7.jpg', 'School activity')">
                        <img src="images/photo7.jpg" alt="School activity">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo8.jpg', 'School activity')">
                        <img src="images/photo8.jpg" alt="School activity">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo9.jpg', 'School activity')">
                        <img src="images/photo9.jpg" alt="School activity">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo10.jpg', 'School activity')">
                        <img src="images/photo10.jpg" alt="School activity">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo11.jpg', 'School activity')">
                        <img src="images/photo11.jpg" alt="School activity">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                    
                    <div class="gallery-item" onclick="openLightbox('images/photo12.jpg', 'School activity')">
                        <img src="images/photo12.jpg" alt="School activity">
                        <div class="gallery-hover">Click to view/download</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Videos Subpage -->
        <div id="videos-subpage" class="gallery-subpage">
            <div class="videos-subsection">
                <h3>Video Gallery</h3>
                
                <div class="video-grid">
                    <div class="video-container">
                        <div style="position: relative;">
                            <video controls>
                                <source src="video1.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="play-icon"></div>
                        </div>
                    </div>
                    
                    <div class="video-container">
                        <div style="position: relative;">
                            <video controls>
                                <source src="video2.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="play-icon"></div>
                        </div>
                    </div>
                    
                    <div class="video-container">
                        <div style="position: relative;">
                            <video controls>
                                <source src="video3.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="play-icon"></div>
                        </div>
                    </div>
                    
                    <div class="video-container">
                        <div style="position: relative;">
                            <video controls>
                                <source src="video4.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="play-icon"></div>
                        </div>
                    </div>

                    <div class="video-container">
                        <div style="position: relative;">
                            <video controls>
                                <source src="video5.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="play-icon"></div>
                        </div>
                    </div>
                    
                    <div class="video-container">
                        <div style="position: relative;">
                            <video controls>
                                <source src="video6.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <div class="play-icon"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lightbox Modal -->
        <div id="lightbox" class="lightbox">
            <div class="lightbox-content">
                <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
                <img id="lightbox-img" src="" alt="" class="lightbox-img">
                <div id="lightbox-caption" class="lightbox-caption"></div>
                <div class="lightbox-buttons">
                    <button onclick="downloadImage()" class="lightbox-btn">Download Image</button>
                    <button onclick="closeLightbox()" class="lightbox-btn lightbox-btn-close">Close</button>
                </div>
            </div>
        </div>
    </section>

    <!-- SOCIAL MEDIA SECTION -->
    <section id="social" class="social-section">
        <div class="social-container">
            <h1 class="social-title">Connect With Us</h1>
            <p class="subtitle">Stay updated with our latest news, events, and content by following us on social media. We'd love to connect with you!</p>
            
            <div class="social-icons-container">
                <!-- Facebook Icon -->
                <a class="social-btn facebook facebook-bg" href="https://www.facebook.com/profile.php?id=61584637240917" target="_blank">
                    <i class="fab fa-facebook-f facebook-color"></i>
                    <span class="platform-name">Facebook</span>
                </a>

                <!-- TikTok Icon -->
                <a class="social-btn tiktok tiktok-bg" href="https://www.tiktok.com/@crystalpreschool" target="_blank">
                    <i class="fab fa-tiktok tiktok-color"></i>
                    <span class="platform-name">TikTok</span>
                </a>

                <!-- WhatsApp Icon -->
                <a class="social-btn whatsapp whatsapp-bg" href="https://wa.me/27783187635" target="_blank">
                    <i class="fab fa-whatsapp whatsapp-color"></i>
                    <span class="platform-name">WhatsApp</span>
                </a>
            </div>
            
            <p class="instruction">Hover over or tap the icons to see the glow effect</p>
        </div>
    </section>

    <!-- CONTACT SECTION -->
    <section id="contact">
        <div class="contact-title">
            <h2>Contact Us
                <span></span>
            </h2>
            <p>Get in touch with Crystal Preschool. We're here to answer your questions and welcome your child to our learning community.</p>
        </div>

        <!-- Status Messages -->
        <div id="formStatus"></div>

        <div class="contact-container">
            <!-- Contact Information Column -->
            <div class="contact-info">
                <h3>Get In Touch</h3>
                
                <div class="contact-details">
                    <div class="contact-detail">
                        <div class="contact-icon">
                            <svg fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20 22.621l-3.521-6.795c-.008.004-1.974.97-2.064 1.011-2.24 1.086-6.799-7.82-4.609-8.994l2.083-1.026-3.493-6.817-2.106 1.039c-7.202 3.755 4.233 25.982 11.6 22.615.121-.055 2.102-1.029 2.11-1.033z"/>
                            </svg>
                        </div>
                        <div>
                            <h4 style="margin: 0 0 5px 0; color: #333;">Phone</h4>
                            <p style="margin: 0; color: #666; font-size: 1.1rem;"><strong>078 318 7635</strong></p>
                            <p style="margin: 5px 0 0 0; color: #888; font-size: 0.9rem;">Mon-Fri, 8:00 AM - 5:00 PM</p>
                        </div>
                    </div>
                    
                    <div class="contact-detail">
                        <div class="contact-icon">
                            <svg fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                            </svg>
                        </div>
                        <div>
                            <h4 style="margin: 0 0 5px 0; color: #333;">Email</h4>
                            <p style="margin: 0; color: #667; font-size: 1.1rem;"><strong>Crystallearning@gmail.com</strong></p>
                            <p style="margin: 5px 0 0 0; color: #888; font-size: 0.9rem;">We respond within 24 hours</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Contact Form Column with Background Image -->
            <div class="contact-form-container">
                <!-- Background Image with Overlay -->
                <div class="form-background"></div>
                
                <!-- Dark Overlay for Better Readability -->
                <div class="form-overlay"></div>
                
                <!-- Form Content -->
                <div class="form-content">
                    <h3>Send Us a Message</h3>
                    
                    <form id="contactForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Your Name *</label>
                                <input type="text" name="name" id="name" placeholder="Full Name" required class="form-input">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Your Email *</label>
                                <input type="email" name="email" id="email" placeholder="email@example.com" required class="form-input">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" name="phone" id="phone" placeholder="078 123 4567" class="form-input">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Subject *</label>
                            <select name="subject" id="subject" class="form-input">
                                <option value="">Select a subject</option>
                                <option value="Admission Inquiry">Admission Inquiry</option>
                                <option value="Schedule a Tour">Schedule a Tour</option>
                                <option value="Curriculum Questions">Curriculum Questions</option>
                                <option value="Employment Opportunities">Employment Opportunities</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Child's Age (if applicable)</label>
                            <div class="age-options">
                                <label class="age-label">
                                    <input type="radio" name="child_age" value="2-3 years"> 2-3 years
                                </label>
                                <label class="age-label">
                                    <input type="radio" name="child_age" value="3-4 years"> 3-4 years
                                </label>
                                <label class="age-label">
                                    <input type="radio" name="child_age" value="4-5 years"> 4-5 years
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Your Message *</label>
                            <textarea name="message" id="message" placeholder="Please write your message here..." rows="6" required class="form-input"></textarea>
                        </div>
                        
                        <div class="newsletter-check">
                            <input type="checkbox" id="newsletter" name="newsletter" value="1">
                            <label for="newsletter">Subscribe to our newsletter for updates and parenting tips</label>
                        </div>
                        
                        <button type="submit" id="submitBtn" class="submit-btn">
                            <svg fill="currentColor" viewBox="0 0 24 24">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                            </svg>
                            Send Message
                        </button>
                        
                        <p class="form-footer">We'll respond to your inquiry within 24 hours during business days.</p>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- AI ASSISTANT CHATBOT WIDGET -->
    <div class="ai-chatbot-widget">
        <button class="ai-chat-toggle-btn" id="aiChatToggle" aria-label="Open chat">
            <i class="fas fa-comment-dots"></i>
            <div class="ai-chat-badge" id="aiMessageBadge">3</div>
        </button>
        
        <div class="ai-chat-window" id="aiChatWindow">
            <!-- Chat Header -->
            <div class="ai-chat-header">
                <div class="ai-chat-bot-info">
                    <div class="ai-chat-bot-avatar"></div>
                    <div class="ai-chat-bot-text">
                        <h3>Crystal Pre-School AI</h3>
                        <p>Online  Registration Open for <span id="aiChatYear"></span></p>
                    </div>
                </div>
                <div class="ai-chat-controls">
                    <button class="ai-chat-control-btn" id="aiMinimizeChat" aria-label="Minimize chat">
                        <i class="fas fa-minus"></i>
                    </button>
                    <button class="ai-chat-control-btn" id="aiClearChat" aria-label="Clear chat">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                    <button class="ai-chat-control-btn" id="aiCloseChat" aria-label="Close chat">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <!-- Chat Messages -->
            <div class="ai-chat-messages" id="aiChatMessages">
                <!-- Initial welcome message will be dynamically generated -->
            </div>

            <!-- Typing Indicator -->
            <div class="ai-typing-indicator" id="aiTypingIndicator">
                <div class="ai-typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                Assistant is thinking...
            </div>

            <!-- Quick Suggestions -->
            <div class="ai-quick-suggestions" id="aiQuickSuggestions">
                <button class="ai-suggestion-btn" data-action="fees" aria-label="Fee structure">
                    <i class="fas fa-dollar-sign"></i>
                    Fee Structure
                </button>
                <button class="ai-suggestion-btn" data-action="locations" aria-label="Campus locations">
                    <i class="fas fa-map-marker-alt"></i>
                    Campus Locations
                </button>
                <button class="ai-suggestion-btn" data-action="registration" aria-label="Registration info">
                    <i class="fas fa-file-alt"></i>
                    Registration Info
                </button>
                <button class="ai-suggestion-btn" data-action="ages" aria-label="Age groups">
                    <i class="fas fa-child"></i>
                    Age Groups
                </button>
            </div>

            <!-- Chat Input -->
            <div class="ai-chat-input-area">
                <div class="ai-input-wrapper">
                    <textarea 
                        class="ai-chat-input" 
                        id="aiChatInput" 
                        placeholder="Ask about fees, registration, or programs..."
                        aria-label="Type your message"
                        maxlength="500"
                        rows="1"></textarea>
                    <div class="ai-input-actions">
                        <button class="ai-input-action-btn" id="aiAttachFile" aria-label="Attach file">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <button class="ai-input-action-btn" id="aiEmojiPicker" aria-label="Insert emoji">
                            <i class="fas fa-smile"></i>
                        </button>
                        <button class="ai-input-action-btn" id="aiVoiceInput" aria-label="Voice input">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                </div>
                <button class="ai-send-btn" id="aiSendMessage" aria-label="Send message">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- MAIN FOOTER SECTION -->
    <footer class="main-footer">
        <div class="footer-container">
            <!-- About Column -->
            <div class="footer-column">
                <h3>About Crystal Preschool</h3>
                <div class="footer-about">
                    <p>Providing exceptional early childhood education since 2005. We nurture young minds through innovative learning experiences in a safe, caring environment.</p>
                </div>
                <div class="footer-social">
                    <a href="https://www.facebook.com/profile.php?id=61584637240917" target="_blank" title="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.tiktok.com/@crystalpreschool" target="_blank" title="TikTok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="https://wa.me/27783187635" target="_blank" title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="mailto:Crystallearning@gmail.com" title="Email">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
            
            <!-- Quick Links Column - UPDATED AS REQUESTED -->
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a onclick="showHomePage()"><i class="fas fa-home"></i> Welcome to crystal preschool</a></li>
                    <li><a onclick="showAboutPage()"><i class="fas fa-info-circle"></i> Toddler Program</a></li>
                    <li><a onclick="showBranchesPage()"><i class="fas fa-map-marker-alt"></i> Preschool Program</a></li>
                    <li><a onclick="showGalleryPage()"><i class="fas fa-images"></i> PreK Program</a></li>
                    <li><a onclick="showSocialPage()"><i class="fas fa-share-alt"></i> Creative Arts</a></li>
                    <li><a onclick="showContactPage()"><i class="fas fa-address-book"></i> Music and Movement</a></li>
                    <li><a onclick="showAboutPage()"><i class="fas fa-tree"></i> Outdoor Learning</a></li>
                </ul>
            </div>
            
            <!-- Contact Info Column -->
            <div class="footer-column">
                <h3>Contact Information</h3>
                <div class="footer-contact">
                    <p><i class="fas fa-map-marker-alt"></i> Crystal Preschool, Your City, Country</p>
                    <p><i class="fas fa-phone"></i> 078 318 7635</p>
                    <p><i class="fas fa-envelope"></i> Crystallearning@gmail.com</p>
                    <p><i class="fas fa-clock"></i> Mon-Fri: 8:00 AM - 5:00 PM</p>
                    <p><i class="fas fa-child"></i> Ages: 2-5 years</p>
                </div>
            </div>
            
            <!-- Programs Column -->
            <div class="footer-column">
                <h3>Our Programs</h3>
                <ul class="footer-links">
                    <li><a onclick="showAboutPage()"><i class="fas fa-baby"></i> Toddler Program (2-3 years)</a></li>
                    <li><a onclick="showBranchesPage()"><i class="fas fa-child"></i> Preschool Program (3-4 years)</a></li>
                    <li><a onclick="showGalleryPage()"><i class="fas fa-graduation-cap"></i> Pre-K Program (4-5 years)</a></li>
                    <li><a onclick="showSocialPage()"><i class="fas fa-paint-brush"></i> Creative Arts</a></li>
                    <li><a onclick="showContactPage()"><i class="fas fa-music"></i> Music & Movement</a></li>
                    <li><a onclick="showAboutPage()"><i class="fas fa-seedling"></i> Outdoor Learning</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p class="copyright">Crystal Preschool  2025 | Building bright futures together</p>
            <p class="footer-credits">Designed with  for early childhood education | All rights reserved</p>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <a href="#home-page" class="back-to-top" id="backToTop" onclick="showHomePage(); return false;">
        <i class="fas fa-chevron-up"></i>
    </a>

    <script>
        // ===== PAGE NAVIGATION FUNCTIONS =====
        function showHomePage() {
            // Hide all content sections
            document.getElementById('about').style.display = 'none';
            document.getElementById('branches').style.display = 'none';
            document.getElementById('gallery').style.display = 'none';
            document.getElementById('social').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            
            // Show home page
            document.getElementById('home-page').style.display = 'block';
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
            }
        }

        function showAboutPage() {
            // Hide all other sections and home page
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('branches').style.display = 'none';
            document.getElementById('gallery').style.display = 'none';
            document.getElementById('social').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            
            // Show about page
            document.getElementById('about').style.display = 'block';
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
            }
        }

        function showBranchesPage() {
            // Hide all other sections and home page
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById('gallery').style.display = 'none';
            document.getElementById('social').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            
            // Show branches page
            document.getElementById('branches').style.display = 'block';
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
            }
        }

        function showGalleryPage() {
            // Hide all other sections and home page
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById('branches').style.display = 'none';
            document.getElementById('social').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            
            // Show gallery page
            document.getElementById('gallery').style.display = 'block';
            
            // Show default subpage (photos)
            showGallerySubpage('photos');
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
            }
        }

        function showSocialPage() {
            // Hide all other sections and home page
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById('branches').style.display = 'none';
            document.getElementById('gallery').style.display = 'none';
            document.getElementById('contact').style.display = 'none';
            
            // Show social page
            document.getElementById('social').style.display = 'flex';
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
            }
        }

        function showContactPage() {
            // Hide all other sections and home page
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('about').style.display = 'none';
            document.getElementById('branches').style.display = 'none';
            document.getElementById('gallery').style.display = 'none';
            document.getElementById('social').style.display = 'none';
            
            // Show contact page
            document.getElementById('contact').style.display = 'block';
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
            }
        }

        function showGallerySubpage(subpage) {
            // Hide all gallery subpages
            document.getElementById('photos-subpage').classList.remove('active');
            document.getElementById('videos-subpage').classList.remove('active');
            document.getElementById('founder-subpage').classList.remove('active');
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.gallery-nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected subpage
            document.getElementById(subpage + '-subpage').classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // ===== AI ASSISTANT CHATBOT FUNCTIONALITY =====
        const AIAssistant = {
            state: {
                chatOpen: false,
                messages: [],
                unreadMessages: 3,
                registrationYear: new Date().getFullYear(),
                online: navigator.onLine,
                isTyping: false
            },
            
            elements: {
                chatToggle: document.getElementById('aiChatToggle'),
                chatWindow: document.getElementById('aiChatWindow'),
                chatMessages: document.getElementById('aiChatMessages'),
                chatInput: document.getElementById('aiChatInput'),
                sendMessage: document.getElementById('aiSendMessage'),
                typingIndicator: document.getElementById('aiTypingIndicator'),
                quickSuggestions: document.getElementById('aiQuickSuggestions'),
                messageBadge: document.getElementById('aiMessageBadge'),
                toastContainer: document.getElementById('aiToastContainer'),
                loadingScreen: document.getElementById('aiLoadingScreen'),
                notificationBell: document.getElementById('aiNotificationBell'),
                notificationBadge: document.getElementById('aiNotificationBadge'),
                chatYear: document.getElementById('aiChatYear')
            },
            
            init() {
                this.updateYear();
                this.setupEventListeners();
                this.updateBadge();
                this.hideLoadingScreen();
            },
            
            updateYear() {
                const now = new Date();
                const currentYear = now.getFullYear();
                const currentMonth = now.getMonth() + 1;
                
                // If it's October (10) or later, show next year's registration
                if (currentMonth >= 10) {
                    this.state.registrationYear = currentYear + 1;
                } else {
                    this.state.registrationYear = currentYear;
                }
                
                this.elements.chatYear.textContent = this.state.registrationYear;
                
                const initialMessage = `
                     <strong>Welcome to CRYSTAL PRE-SCHOOL!</strong> 

                    Registration is <strong>NOW OPEN FOR ${this.state.registrationYear}!</strong>

                    I'm your AI assistant, here to help you with:

                      <strong>Age Groups</strong>  1 month to 6 years
                      <strong>Fee Structure</strong>  Affordable monthly fees
                      <strong>Campus Locations</strong>  Two locations in Limpopo
                      <strong>Registration Process</strong>  Simple and easy
                      <strong>Program Details</strong>  Age-appropriate curriculum

                    <strong>Contact:</strong> 0783187635
                    <strong>Academic Year:</strong> ${this.state.registrationYear}
                    <strong>Start Date:</strong> January ${this.state.registrationYear}

                    How can I assist you today?
                `;
                
                this.elements.chatMessages.innerHTML = `
                    <div class="ai-message ai-bot-message">
                        <div class="ai-message-content">${this.formatMessage(initialMessage)}</div>
                        <div class="ai-message-time">${this.formatTime(new Date())}</div>
                    </div>
                `;
            },
            
            setupEventListeners() {
                // Chat toggle
                this.elements.chatToggle.addEventListener('click', () => this.toggle());
                
                // Message sending
                this.elements.sendMessage.addEventListener('click', () => this.sendMessage());
                
                // Textarea auto-grow
                this.elements.chatInput.addEventListener('input', () => {
                    this.autoGrowTextarea(this.elements.chatInput);
                });
                
                // Enter to send (with shift for new line)
                this.elements.chatInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });
                
                // Quick suggestions
                this.elements.quickSuggestions.addEventListener('click', (e) => {
                    const suggestionBtn = e.target.closest('.ai-suggestion-btn');
                    if (suggestionBtn) {
                        const action = suggestionBtn.dataset.action;
                        this.handleQuickSuggestion(action);
                    }
                });
                
                // Chat controls
                document.getElementById('aiMinimizeChat').addEventListener('click', () => this.minimize());
                document.getElementById('aiClearChat').addEventListener('click', () => this.clear());
                document.getElementById('aiCloseChat').addEventListener('click', () => this.close());
                
                // Touch gestures for mobile
                this.setupTouchGestures();
                
                // Auto-open chat after 8 seconds
                setTimeout(() => {
                    if (!localStorage.getItem('aiChatManuallyClosed')) {
                        this.open();
                        this.showToast('info', `Welcome! Ask me about ${this.state.registrationYear} registration`, 'AI Assistant');
                    }
                }, 8000);
            },
            
            setupTouchGestures() {
                let startY, startX, startTime;
                
                this.elements.chatWindow.addEventListener('touchstart', (e) => {
                    startY = e.touches[0].clientY;
                    startX = e.touches[0].clientX;
                    startTime = Date.now();
                }, { passive: true });
                
                this.elements.chatWindow.addEventListener('touchend', (e) => {
                    const endY = e.changedTouches[0].clientY;
                    const endX = e.changedTouches[0].clientX;
                    const endTime = Date.now();
                    
                    const deltaY = endY - startY;
                    const deltaX = endX - startX;
                    const deltaTime = endTime - startTime;
                    
                    // Swipe down to close
                    if (deltaY > 100 && Math.abs(deltaX) < 50 && deltaTime < 500) {
                        if (this.elements.chatMessages.scrollTop === 0) {
                            this.close();
                        }
                    }
                }, { passive: true });
            },
            
            toggle() {
                this.state.chatOpen ? this.close() : this.open();
            },
            
            open() {
                this.state.chatOpen = true;
                this.elements.chatWindow.classList.add('active');
                this.elements.chatToggle.innerHTML = '<i class="fas fa-times"></i>';
                
                this.state.unreadMessages = 0;
                this.updateBadge();
                
                localStorage.setItem('aiChatManuallyClosed', false);
                
                setTimeout(() => {
                    this.elements.chatInput.focus();
                    this.scrollToBottom();
                }, 100);
                
                this.showNotificationBell(false);
            },
            
            close() {
                this.state.chatOpen = false;
                this.elements.chatWindow.classList.remove('active');
                this.elements.chatToggle.innerHTML = '<i class="fas fa-comment-dots"></i>';
                
                localStorage.setItem('aiChatManuallyClosed', true);
            },
            
            minimize() {
                this.close();
            },
            
            async sendMessage() {
                const message = this.elements.chatInput.value.trim();
                
                if (!message) return;
                
                // Add user message
                this.addUserMessage(message);
                
                // Clear and reset input
                this.elements.chatInput.value = '';
                this.elements.chatInput.style.height = 'auto';
                
                // Show typing indicator
                this.showTypingIndicator(true);
                
                // Simulate typing delay
                const typingTime = Math.min(message.length * 30, 2000);
                
                try {
                    // Get bot response
                    const response = await this.getBotResponse(message);
                    
                    // Add delay for realistic typing
                    setTimeout(() => {
                        this.addBotMessage(response);
                        this.showTypingIndicator(false);
                    }, typingTime);
                    
                } catch (error) {
                    console.error('Chat error:', error);
                    this.addBotMessage("I'm having trouble connecting right now. Please call us at 0783187635 for immediate assistance.");
                    this.showTypingIndicator(false);
                }
            },
            
            async getBotResponse(userMessage) {
                const lowerMessage = userMessage.toLowerCase();
                const currentYear = this.state.registrationYear;
                
                // Enhanced AI responses
                const responses = {
                    fees: `**FEE STRUCTURE FOR ${currentYear}:**\n\n**Main Campus:**\n Registration: R200\n Grade O0 (0-2 years): R350/month\n Grade O (2-4 years): R300/month\n\n**Malamulele Campus:**\n Registration: R300\n Grade O0 (1-2 years): R450/month\n Grade O (2-4 years): R400/month\n Grade R: R400/month\n\n*Prices are subject to change for ${currentYear + 1}*`,
                    
                    locations: `**OUR CAMPUSES IN LIMPOPO:**\n\n **Main Campus**\n Limpopo, South Africa\n Ages: 1 month to 6 years\n Safe & secure environment\n Enclosed outdoor play area\n Contact: 0783187635\n\n **Malamulele Campus**\n Section B2, Next to Salvation Army Church\n English medium instruction\n Caring environment\n Educational trips\n Contact: 0783187635`,
                    
                    ages: `**AGE GROUPS FOR ${currentYear}:**\n\n **Infants (1-24 months):**\n Specialized care\n Developmental activities\n\n **Toddlers (2-4 years):**\n Play-based learning\n Social development\n\n **Pre-School (4-6 years):**\n School readiness\n Academic foundation\n\nWe accept children from 1 month old up to 6 years.`,
                    
                    registration: `**${currentYear} REGISTRATION PROCESS:**\n\n **Academic Year:** ${currentYear}\n **Start Date:** January ${currentYear}\n **Deadline:** 15 December ${currentYear - 1}\n\n**Required Documents:**\n1. Child's birth certificate\n2. Parent/guardian ID copy\n3. 2 Recent photos of child\n4. Medical information\n5. Proof of residence\n\n**Registration Fee:**\n Main Campus: R200\n Malamulele: R300\n\n**Contact us to apply now!**`,
                    
                    contact: `**CONTACT INFORMATION:**\n\n **Phone:** 0783187635\n **Email:** Crystallearning@gmail.com\n\n **Main Campus:**\nLimpopo, South Africa\n\n **Malamulele Campus:**\nSection B2, Next to Salvation Army Church\n\n **Office Hours:**\nMonday-Friday: 8:00 AM - 5:00 PM\n\n**Registration for ${currentYear} is now open!**`
                };
                
                // Smart response detection
                if (lowerMessage.includes('fee') || lowerMessage.includes('price') || lowerMessage.includes('cost')) {
                    return responses.fees;
                }
                
                if (lowerMessage.includes('location') || lowerMessage.includes('campus') || lowerMessage.includes('address')) {
                    return responses.locations;
                }
                
                if (lowerMessage.includes('age') || lowerMessage.includes('year') || lowerMessage.includes('month') || lowerMessage.includes('baby')) {
                    return responses.ages;
                }
                
                if (lowerMessage.includes('register') || lowerMessage.includes('admission') || lowerMessage.includes('enroll') || lowerMessage.includes('apply')) {
                    return responses.registration;
                }
                
                if (lowerMessage.includes('contact') || lowerMessage.includes('phone') || lowerMessage.includes('call') || lowerMessage.includes('email')) {
                    return responses.contact;
                }
                
                if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
                    return `Hello! Welcome to CRYSTAL PRE-SCHOOL! \n\nRegistration for ${currentYear} is open for children aged 1 month to 6 years.\n\nHow can I help you today?`;
                }
                
                if (lowerMessage.includes('thank') || lowerMessage.includes('thanks')) {
                    return `You're welcome! \n\nRemember, registration for ${currentYear} closes on 15 December ${currentYear - 1}.\n\nWould you like to schedule a registration appointment?`;
                }
                
                // Default response with suggestions
                return `I understand you're asking about: "${userMessage}"\n\nFor ${currentYear} registration, I can help you with:\n\n  Registration process and deadlines\n  Fee structure and payment plans\n  Campus locations and facilities\n  Age-specific programs\n  Contact information\n\nWhat specific information would you like?`;
            },
            
            addUserMessage(content) {
                const message = {
                    type: 'user',
                    content: content,
                    time: new Date().toISOString()
                };
                
                this.state.messages.push(message);
                this.renderMessage(message);
                this.scrollToBottom();
            },
            
            addBotMessage(content) {
                const message = {
                    type: 'bot',
                    content: content,
                    time: new Date().toISOString()
                };
                
                this.state.messages.push(message);
                this.renderMessage(message);
                this.scrollToBottom();
                
                // Update notification bell
                if (!this.state.chatOpen) {
                    this.state.unreadMessages++;
                    this.updateBadge();
                    this.showNotificationBell(true);
                }
            },
            
            renderMessage(message) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `ai-message ai-${message.type}-message`;
                
                const content = this.formatMessage(message.content);
                const time = this.formatTime(message.time);
                
                messageDiv.innerHTML = `
                    <div class="ai-message-content">${content}</div>
                    <div class="ai-message-time">${time}</div>
                `;
                
                this.elements.chatMessages.appendChild(messageDiv);
            },
            
            showTypingIndicator(show) {
                if (show) {
                    this.elements.typingIndicator.classList.add('active');
                    this.state.isTyping = true;
                } else {
                    this.elements.typingIndicator.classList.remove('active');
                    this.state.isTyping = false;
                }
                this.scrollToBottom();
            },
            
            handleQuickSuggestion(action) {
                const messages = {
                    fees: "What are the fees for this year?",
                    locations: "Where are your campuses?",
                    registration: "How do I register?",
                    ages: "What age groups do you accept?"
                };
                
                this.elements.chatInput.value = messages[action] || "Tell me about the school";
                this.sendMessage();
            },
            
            clear() {
                if (confirm('Clear all chat messages?')) {
                    this.elements.chatMessages.innerHTML = '';
                    this.state.messages = [];
                    this.updateYear(); // Reset to initial message
                    this.showToast('success', 'Chat cleared');
                }
            },
            
            scrollToBottom() {
                requestAnimationFrame(() => {
                    this.elements.chatMessages.scrollTop = this.elements.chatMessages.scrollHeight;
                });
            },
            
            updateBadge() {
                if (this.state.unreadMessages > 0) {
                    this.elements.messageBadge.textContent = this.state.unreadMessages;
                    this.elements.messageBadge.style.display = 'flex';
                    this.elements.chatToggle.classList.add('animate-pulse');
                    
                    // Update notification badge
                    this.elements.notificationBadge.textContent = this.state.unreadMessages;
                    this.elements.notificationBadge.style.display = 'flex';
                } else {
                    this.elements.messageBadge.style.display = 'none';
                    this.elements.chatToggle.classList.remove('animate-pulse');
                    this.elements.notificationBadge.style.display = 'none';
                }
            },
            
            showNotificationBell(show) {
                if (show) {
                    this.elements.notificationBell.style.display = 'flex';
                    this.elements.notificationBell.classList.add('animate-bounce');
                    
                    // Auto-hide after 10 seconds
                    setTimeout(() => {
                        this.elements.notificationBell.classList.remove('animate-bounce');
                    }, 10000);
                    
                    // Click to open chat
                    this.elements.notificationBell.onclick = () => {
                        this.open();
                        this.elements.notificationBell.style.display = 'none';
                    };
                } else {
                    this.elements.notificationBell.style.display = 'none';
                    this.elements.notificationBell.classList.remove('animate-bounce');
                }
            },
            
            showToast(type, message, title = '') {
                const toast = document.createElement('div');
                toast.className = `ai-toast ${type}`;
                toast.setAttribute('role', 'alert');
                toast.setAttribute('aria-live', 'assertive');
                
                const icons = {
                    success: '<i class="fas fa-check-circle"></i>',
                    error: '<i class="fas fa-exclamation-circle"></i>',
                    warning: '<i class="fas fa-exclamation-triangle"></i>',
                    info: '<i class="fas fa-info-circle"></i>'
                };
                
                toast.innerHTML = `
                    <div class="ai-toast-icon">
                        ${icons[type] || icons.info}
                    </div>
                    <div class="ai-toast-content">
                        ${title ? `<div class="ai-toast-title">${title}</div>` : ''}
                        <div class="ai-toast-message">${message}</div>
                    </div>
                    <button class="ai-toast-close" aria-label="Close notification">
                        <i class="fas fa-times"></i>
                    </button>
                `;

                this.elements.toastContainer.appendChild(toast);
                
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        toast.classList.add('show');
                    });
                });

                const closeBtn = toast.querySelector('.ai-toast-close');
                closeBtn.addEventListener('click', () => this.closeToast(toast));

                setTimeout(() => this.closeToast(toast), 5000);
            },
            
            closeToast(toast) {
                toast.classList.remove('show');
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 500);
            },
            
            hideLoadingScreen() {
                setTimeout(() => {
                    this.elements.loadingScreen.classList.add('hidden');
                }, 1500);
            },
            
            // Utility functions
            formatTime(date) {
                return new Date(date).toLocaleTimeString([], { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    hour12: true 
                });
            },
            
            formatMessage(text) {
                return text
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em>$1</em>')
                    .replace(/`(.*?)`/g, '<code>$1</code>')
                    .replace(/\n/g, '<br>');
            },
            
            autoGrowTextarea(textarea) {
                textarea.style.height = 'auto';
                textarea.style.height = (textarea.scrollHeight) + 'px';
            }
        };

        // ===== EXISTING FUNCTIONALITY FROM FIRST CODE =====
        // Mobile menu functionality
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('active');
        }
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileToggle = document.querySelector('.mobile-toggle');
            
            if (window.innerWidth <= 768 && 
                !mobileMenu.contains(event.target) && 
                !mobileToggle.contains(event.target) &&
                mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
            }
        });
        
        // Close mobile menu when clicking a link
        document.querySelectorAll('.mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('mobileMenu').classList.remove('active');
            });
        });

        // Branches page functionality
        function callBranch(phone) {
            window.location.href = `tel:${phone}`;
        }

        function getDirections(address) {
            // Display a toast notification
            const toast = document.createElement('div');
            toast.textContent = `Opening directions to ${address.split(',')[0]}...`;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(255, 126, 95, 0.9);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                z-index: 1000;
                font-weight: 600;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
                animation: slideIn 0.3s ease forwards;
            `;
            
            document.body.appendChild(toast);
            
            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease forwards';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
            
            // Open Google Maps
            window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address)}`, '_blank');
        }
        
        // Add CSS for toast animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Contact form functionality
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contactForm');
            const formStatus = document.getElementById('formStatus');
            const submitBtn = document.getElementById('submitBtn');
            
            // Add background image check
            const bgImage = new Image();
            bgImage.src = 'IMG-20251120-WA0024.jpg';
            
            bgImage.onload = function() {
                console.log('Background image loaded successfully from current directory');
            };
            
            bgImage.onerror = function() {
                console.log('Background image not found in current directory');
                // If image doesn't load, use gradient fallback
                const formBg = document.querySelector('.form-background');
                if (formBg) {
                    formBg.style.backgroundImage = "linear-gradient(135deg, #5a3d8a 0%, #7b52b5 100%)";
                    console.log('Using gradient fallback for form background');
                }
            };
            
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Get form data
                const formData = new FormData(this);
                
                // Get radio button value
                const childAge = document.querySelector('input[name="child_age"]:checked');
                if (childAge) {
                    formData.append('child_age', childAge.value);
                }
                
                // Get checkbox value
                const newsletter = document.getElementById('newsletter').checked;
                formData.append('newsletter', newsletter ? '1' : '0');
                
                // Show loading state
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 2a10 10 0 1010 10A10 10 0 0012 2zm0 18a8 8 0 118-8 8 8 0 01-8 8z" opacity=".5"/><path d="M20 12h2A10 10 0 0012 2v2a8 8 0 018 8z"><animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s" repeatCount="indefinite"/></path></svg> Sending...';
                formStatus.style.display = 'block';
                formStatus.className = 'status-loading';
                formStatus.innerHTML = '<p>Sending your message, please wait...</p>';
                
                try {
                    // Simulate API call (replace with actual fetch to your backend)
                    setTimeout(() => {
                        // Success message
                        formStatus.className = 'status-success';
                        formStatus.innerHTML = '<p> Your message has been sent successfully! We will respond within 24 hours.</p>';
                        
                        // Reset form
                        contactForm.reset();
                        
                        // Change button text temporarily
                        submitBtn.innerHTML = '<svg fill="currentColor" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg> Message Sent!';
                        submitBtn.style.background = 'linear-gradient(to right, #4caf50, #66bb6a)';
                        
                        // Re-enable button after 3 seconds
                        setTimeout(() => {
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = '<svg fill="currentColor" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg> Send Message';
                            submitBtn.style.background = 'linear-gradient(to right, #ff9933, #ffad5c)';
                        }, 3000);
                    }, 1500);
                    
                } catch (error) {
                    // Network error
                    formStatus.className = 'status-error';
                    formStatus.innerHTML = '<p>Network error. Please try again later.</p>';
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '<svg fill="currentColor" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg> Send Message';
                }
                
                // Hide status message after 10 seconds
                setTimeout(() => {
                    formStatus.style.display = 'none';
                }, 10000);
            });

            // ABOUT US SECTION INTERACTIVITY
            // Add hover effects to About Us cards
            const aboutCards = document.querySelectorAll('#about div[style*="transition: all 0.4s cubic-bezier"]');
            aboutCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-10px)';
                    this.style.boxShadow = '0 20px 40px rgba(0,0,0,0.15)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.06)';
                });
            });
            
            // Add hover effects to About Us feature boxes
            const features = document.querySelectorAll('#about div[style*="transition: all 0.3s ease"]');
            features.forEach(feature => {
                feature.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.02)';
                    this.style.boxShadow = '0 15px 30px rgba(0,0,0,0.1)';
                });
                feature.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.boxShadow = '0 8px 20px rgba(0,0,0,0.05)';
                });
            });
            
            // Add button hover effects for About Us section
            const buttons = document.querySelectorAll('#about button');
            buttons.forEach(button => {
                const shimmer = button.querySelector('div');
                button.addEventListener('mouseenter', function() {
                    if(shimmer) {
                        shimmer.style.left = '100%';
                    }
                    
                    if(this.style.background === 'white') {
                        this.style.background = '#f0f8ff';
                        this.style.boxShadow = '0 12px 25px rgba(0,0,0,0.2)';
                    } else if(this.style.background === 'transparent') {
                        this.style.background = 'rgba(255,255,255,0.1)';
                    }
                });
                
                button.addEventListener('mouseleave', function() {
                    if(shimmer) {
                        shimmer.style.left = '-100%';
                    }
                    
                    if(this.style.background === 'rgb(240, 248, 255)' || this.style.background === '#f0f8ff') {
                        this.style.background = 'white';
                        this.style.boxShadow = '0 8px 20px rgba(0,0,0,0.15)';
                    } else if(this.style.background === 'rgba(255,255,255,0.1)') {
                        this.style.background = 'transparent';
                    }
                });
            });
            
            // Add ripple effect to About Us buttons on click
            buttons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const ripple = document.createElement('div');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.width = ripple.style.height = size + 'px';
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    ripple.style.position = 'absolute';
                    ripple.style.borderRadius = '50%';
                    ripple.style.background = 'rgba(255, 255, 255, 0.5)';
                    ripple.style.transform = 'scale(0)';
                    ripple.style.animation = 'ripple 0.6s linear';
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });
            
            // Add scroll-triggered animations
            const aboutSection = document.getElementById('about');
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if(entry.isIntersecting) {
                        // Add a class or trigger animations
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            }, observerOptions);
            
            // Observe elements for scroll animations
            const animatableElements = aboutSection.querySelectorAll('[style*="animation"]');
            animatableElements.forEach(el => {
                observer.observe(el);
            });
            
            // Add Social Media button click animation
            document.querySelectorAll('.social-btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    // Create a ripple effect
                    const ripple = document.createElement('span');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.cssText = `
                        position: absolute;
                        border-radius: 50%;
                        background: rgba(255, 255, 255, 0.5);
                        transform: scale(0);
                        animation: ripple 0.6s linear;
                        width: ${size}px;
                        height: ${size}px;
                        top: ${y}px;
                        left: ${x}px;
                        pointer-events: none;
                        z-index: 0;
                    `;
                    
                    this.appendChild(ripple);
                    
                    // Remove ripple element after animation completes
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });

            // About Us button functionality
            document.getElementById('tourBtn').addEventListener('click', function() {
                alert('Thank you for your interest! Our team will contact you shortly to schedule a tour of Crystal Pre-School.');
            });
            
            document.getElementById('brochureBtn').addEventListener('click', function() {
                alert('Our brochure will be downloaded shortly. Thank you for your interest in Crystal Pre-School!');
                // In a real implementation, you would trigger a file download here
            });

            // Animate social media buttons with delay
            document.querySelectorAll('.social-btn').forEach((btn, index) => {
                btn.style.animationDelay = `${0.1 + (index * 0.1)}s`;
            });

            // Branches button click animations
            const branchButtons = document.querySelectorAll('.branch-btn');
            branchButtons.forEach(button => {
                button.addEventListener('click', function() {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });

            // Back to Top Button functionality
            const backToTopButton = document.getElementById('backToTop');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTopButton.classList.add('show');
                } else {
                    backToTopButton.classList.remove('show');
                }
            });

            // Smooth scroll for back to top
            backToTopButton.addEventListener('click', function(e) {
                e.preventDefault();
                showHomePage();
            });
            
            // Initialize AI Assistant
            AIAssistant.init();
        });

        // Lightbox functionality
        let currentImageSrc = '';
        let currentImageAlt = '';
        
        function openLightbox(imageSrc, caption) {
            currentImageSrc = imageSrc;
            currentImageAlt = caption;
            
            document.getElementById('lightbox-img').src = imageSrc;
            document.getElementById('lightbox-caption').textContent = caption;
            document.getElementById('lightbox').style.display = 'flex';
            
            // Prevent scrolling when lightbox is open
            document.body.style.overflow = 'hidden';
        }
        
        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        function downloadImage() {
            if (!currentImageSrc) return;
            
            // Create a temporary link element
            const link = document.createElement('a');
            link.href = currentImageSrc;
            
            // Extract filename from the source
            const filename = currentImageSrc.split('/').pop() || 'crystal-preschool-image.jpg';
            link.download = filename;
            
            // Append to body, click, and remove
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        // Close lightbox when clicking outside the image
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target.id === 'lightbox') {
                closeLightbox();
            }
        });
        
        // Close lightbox with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeLightbox();
            }
        });
        
        // Add hover effects to gallery images
        document.addEventListener('DOMContentLoaded', function() {
            const galleryItems = document.querySelectorAll('.gallery-item, .founder-image');
            galleryItems.forEach(item => {
                item.addEventListener('mouseenter', function() {
                    const hoverElement = this.querySelector('.gallery-hover') || this.querySelector('.founder-hover');
                    if (hoverElement) {
                        hoverElement.style.opacity = '1';
                    }
                });
                item.addEventListener('mouseleave', function() {
                    const hoverElement = this.querySelector('.gallery-hover') || this.querySelector('.founder-hover');
                    if (hoverElement) {
                        hoverElement.style.opacity = '0';
                    }
                });
            });
        });

        // Initialize page to show home page by default
        document.addEventListener('DOMContentLoaded', function() {
            showHomePage();
        });
    </script>

</body>
</html>